<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>IEA Astronomi — Ensiklopedia Interaktif (Lite NASA)</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">


<style>
:root{
  --bg:#020117;
  --panel: rgba(255,255,255,0.04);
  --accent1:#6b21ff;
  --accent2:#ff4fc1;
  --muted:#bfc7d6;
  --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:var(--bg);color:#fff}
a{color:inherit;text-decoration:none}

/* Background */
#bgCanvas{position:fixed;inset:0;z-index:-2}
.bg-gradient{position:fixed;inset:0;z-index:-3;background:
  radial-gradient(ellipse at 10% 20%, rgba(107,33,255,0.08), transparent 8%),
  radial-gradient(ellipse at 80% 80%, rgba(255,79,193,0.06), transparent 12%),
  linear-gradient(180deg,#031024 0%, #020117 100%);}

/* Layout */
.container{max-width:1200px;margin:0 auto;padding:28px}
.header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:22px;}
.brand{display:flex;align-items:center;gap:14px;}
.logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent1),var(--accent2));box-shadow:0 6px 30px rgba(107,33,255,0.18);display:flex;align-items:center;justify-content:center;font-weight:700}
.title{font-size:20px;font-weight:700}
.subtitle{font-size:13px;color:var(--muted)}

/* Search bar */
.search-wrap{display:flex;gap:8px;align-items:center}
.search-box{background:var(--panel);padding:8px 12px;border-radius:12px;display:flex;gap:8px;align-items:center;box-shadow:0 6px 18px rgba(0,0,0,0.6)}
.search-box input{background:transparent;border:none;outline:none;color:#fff;font-size:14px;width:220px}
.filter-badges{display:flex;gap:8px;align-items:center;margin-left:10px}
.badge{font-size:12px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);color:var(--muted);cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
.badge.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;border:none;box-shadow:0 6px 20px rgba(107,33,255,0.12)}

/* Hero */
.hero{padding:28px;margin-bottom:24px;border-radius:18px;background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);display:flex;gap:24px;align-items:center}
.hero-left{flex:1}
.hero h1{font-size:28px;margin:0 0 6px 0}
.hero p{margin:0;color:var(--muted);max-width:780px;line-height:1.5}
.hero-right{width:220px;text-align:center}

/* Grid */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:18px;margin-top:22px}
.card{border-radius:14px;padding:18px;background:var(--glass);cursor:pointer;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.04);transition:transform .32s ease, box-shadow .32s ease;display:flex;gap:12px;align-items:center}
.card:hover{transform:translateY(-8px);box-shadow:0 20px 50px rgba(107,33,255,0.08)}
.card .icon{width:86px;height:86px;border-radius:999px;flex:0 0 86px;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:inset 0 -6px 30px rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.04)}
.card .meta{flex:1}
.card h3{margin:0 0 6px 0;font-size:18px}
.card p{margin:0;color:var(--muted);font-size:13px;line-height:1.35}

/* planet visuals (gradients) */
.planet-sun{background:radial-gradient(circle at 35% 35%, #fff6c0, #ffd36b 20%, #ffae00 50%, #ff6600 80%);}
.planet-mercury{background:linear-gradient(180deg,#6e6e6e,#4b4b4b)}
.planet-venus{background:linear-gradient(180deg,#ead4a7,#c89a5b)}
.planet-earth{background:linear-gradient(180deg,#2fa0ff,#06537f);border:2px solid rgba(255,255,255,0.02)}
.planet-moon{background:linear-gradient(180deg,#cfcfcf,#9f9f9f)}
.planet-mars{background:linear-gradient(180deg,#ff7a40,#b33a20)}
.planet-jupiter{background:linear-gradient(180deg,#f5d6b3,#d19b63)}
.planet-saturn{background:linear-gradient(180deg,#f6e3ad,#d0ae6d)}
.planet-uranus{background:linear-gradient(180deg,#bfe9ff,#7fd2e6)}
.planet-neptune{background:linear-gradient(180deg,#6ea7ff,#234b9a)}
.planet-pluto{background:linear-gradient(180deg,#c8a9d0,#8f6c9a)}
.planet-asteroid{background:linear-gradient(180deg,#7d7d7d,#4e4e4e)}
.planet-kuiper{background:linear-gradient(180deg,#94bfff,#5f9ad1)}
.obj-star{background: radial-gradient(circle at 35% 35%, #fff, #ffd); box-shadow:0 0 18px rgba(255,255,200,0.08)}
.obj-nebula{background: radial-gradient(circle at 20% 20%, #ff7ab3, #7a00ff); box-shadow:0 0 30px rgba(122,0,255,0.08)}
.obj-galaxy{background: linear-gradient(135deg,#9d00ff,#ff6fb3)}

/* Modal */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.78);z-index:9999;align-items:center;justify-content:center;padding:20px}
.modal.show{display:flex}
.modal-inner{width:min(1100px,98%);max-height:90vh;overflow:auto;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.04)}
.modal-grid{display:grid;grid-template-columns:360px 1fr;gap:18px;align-items:start}
.modal-preview{height:320px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.25)}
.modal-preview img{width:100%;height:100%;object-fit:cover;display:block}
.modal-preview .planet-large{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;color:#fff}
.modal-content h2{margin:0 0 10px 0}
.facts{margin-top:8px;border-radius:10px;padding:12px;background:rgba(0,0,0,0.3);font-size:13px}
.facts table{width:100%;border-collapse:collapse}
.facts td{padding:6px 8px;color:var(--muted);font-size:13px}
.long-desc{margin-top:12px;color:#e6eefc;line-height:1.6}
.funlist{margin-top:12px}
.btn-row{display:flex;gap:8px;margin-top:12px}
.btn-ghost{padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);cursor:pointer}
.btn-primary{padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;color:#fff;cursor:pointer}

/* Nav in modal */
.modal-nav{display:flex;gap:8px;justify-content:flex-end;margin-bottom:8px}
.small-muted{font-size:12px;color:var(--muted)}

/* footer */
.footer{margin-top:28px;padding:18px;text-align:center;color:var(--muted);font-size:13px}

/* responsive */
@media (max-width:900px){
  .modal-grid{grid-template-columns:1fr;align-items:center}
  .modal-preview{height:240px}
  .hero{flex-direction:column;align-items:flex-start}
  .search-box input{width:120px}
}
</style>
</head>
<body>

  <!-- INTRO SCREEN -->
<div id="intro-screen">
  <div class="intro-content">
    <h1 class="intro-text">Selamat Datang di IEA</h1>
  </div>
</div>


  <canvas id="cosmicStars"></canvas>


  <!-- =========================
     TOP NAVIGATION - IEA
========================= -->
<nav id="iea-nav">
  <div class="nav-left">
    <span class="logo"> IEA</span>
  </div>

  <div class="nav-center">
    <button class="nav-btn"> Home</button>
    <button class="nav-btn"> Settings</button>
    <button class="nav-btn"> Schedule</button>
    <button class="nav-btn"> Lainnya</button>
  </div>
</nav>


    <!-- =========================
     QUICK INFO BAR - IEA
========================= -->
<div id="quick-info-bar">
  <span id="iea-stats">Loading data...</span>
  <span id="iea-fact"> Memuat fakta kosmik...</span>
</div>

<!-- =========================
     SETTINGS PANEL
========================= -->
<div id="settings-panel" class="collapsed">

  <div id="settings-header">
    <h3> Settings</h3>
    <span id="settings-close">✖</span>
  </div>

  <div id="settings-content">
    <label class="setting-item">
      <input type="checkbox" id="toggle-today-sky" checked>
      <span>Tampilkan Today Sky</span>
    </label>

    <label class="setting-item">
      <input type="checkbox" id="toggle-cosmic">
      <span>Cosmic Mode</span>
    </label>
  </div>

</div>


<!-- =========================
     DASHBOARD ROW
========================= -->
<section id="iea-dashboard">

  <!-- =========================
     TODAY SKY (COLLAPSIBLE)
========================= -->
<div id="today-sky" class="collapsed">

  <div id="today-sky-header">
    <h3> Today Sky</h3>
    <span id="sky-toggle">▼</span>
  </div>

  <div id="today-sky-content">
    <p id="sky-date"></p>
    <p id="moon-phase"></p>
    <p id="sky-observation"></p>
    <p id="sky-tip"></p>
  </div>

</div>

  <!-- MINI QUIZ (MAIN CONTENT) -->
  <div id="mini-quiz">
    <h2> Mini Quiz Astronomi</h2>
    <div id="quiz-box">
      <p id="quiz-question"></p>
      <div id="quiz-options"></div>
      <button id="quiz-next" disabled>Next</button>
      <p id="quiz-result"></p>
    </div>
  </div>

</section>


<!-- =========================
     TIMELINE EVOLUSI BINTANG (BERCABANG)
========================= -->
<section id="star-timeline">
  <h2> Evolusi Bintang</h2>

  <div class="branch-selector">
    <button data-branch="small" class="active"> Bintang Kecil</button>
    <button data-branch="massive"> Bintang Masif</button>
  </div>

  <input type="range" id="star-slider" min="0" max="4" value="0">

  <div id="star-stage">
    <h3 id="stage-title"></h3>
    <p id="stage-desc"></p>
  </div>
</section>



<!-- background canvases -->
<canvas id="bgCanvas"></canvas>
<div class="bg-gradient"></div>

<div class="container">
  <header class="header">
    <div class="brand">
      <div class="logo">IEA</div>
      <div>
        <div class="title">IEA Astronomi — Ensiklopedia Interaktif</div>
        <div class="subtitle">Peta interaktif Tata Surya, Bintang & Nebula — klik untuk info detail</div>
      </div>
    </div>

    <div class="search-wrap">
      <div class="search-box">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="searchInput" placeholder="Cari: Bumi, Jupiter, Nebula..." />
      </div>
      <div class="filter-badges">
        <div class="badge active" data-filter="all">Semua</div>
        <div class="badge" data-filter="planet">Planet</div>
        <div class="badge" data-filter="system">Tata Surya</div>
        <div class="badge" data-filter="star">Bintang</div>
        <div class="badge" data-filter="nebula">Nebula</div>
        <div class="badge" data-filter="galaxy">Galaksi</div>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="hero-left">
      <h1>Selamat Datang, Penjelajah Kosmos</h1>
      <p>Ini adalah versi lite ensiklopedia astronomi — lengkap dengan informasi planet, bintang, nebula, dan galaksi. Klik objek apa saja untuk membuka informasi detailnya. Nanti kita bisa tambahkan tampilan 3D interaktif.</p>
      
      
    </div>
    <div class="hero-right">
      <div style="font-size:12px;color:var(--muted);margin-bottom:8px">Mulai eksplorasi</div>
      <button class="btn-primary" onclick="document.querySelector('#explore').scrollIntoView({behavior:'smooth'})">Eksplorasi Sekarang</button>
    </div>
  </section>

  <section id="explore" class="section">
    <h2 class="title">Objek Astronomi</h2>
    <p class="description">Klik satu objek untuk melihat informasi lengkap. Ada data ringkas, deskripsi panjang, fakta menarik, dan link baca lebih lanjut.</p>

    <div id="grid" class="grid">
      <!-- existing planet cards (kept as-is) -->
      <div class="card" data-id="sun" data-type="system" title="Matahari">
        <div class="icon planet-sun">Sun</div>
        <div class="meta">
          <h3>Matahari (Sun)</h3>
          <p>Bintang pusat Tata Surya — sumber energi dan cahaya.</p>
        </div>
      </div>

      <div class="card" data-id="mercury" data-type="planet" title="Merkurius">
        <div class="icon planet-mercury">Me</div>
        <div class="meta">
          <h3>Merkurius</h3>
          <p>Planet paling dekat ke Matahari — permukaan berbatu dan suhu ekstrem.</p>
        </div>
      </div>

      <div class="card" data-id="venus" data-type="planet" title="Venus">
        <div class="icon planet-venus">Ve</div>
        <div class="meta">
          <h3>Venus</h3>
          <p>Atmosfer tebal & efek rumah kaca ekstrim — permukaan super panas.</p>
        </div>
      </div>

      <div class="card" data-id="earth" data-type="planet" title="Bumi">
        <div class="icon planet-earth">Ea</div>
        <div class="meta">
          <h3>Bumi</h3>
          <p>Planet tempat hidup kita — air cair, atmosfer seimbang, satelit: Bulan.</p>
        </div>
      </div>

      <div class="card" data-id="moon" data-type="system" title="Bulan">
        <div class="icon planet-moon">Mo</div>
        <div class="meta">
          <h3>Bulan</h3>
          <p>Satelit alami Bumi — mempengaruhi pasang surut dan eksplorasi manusia.</p>
        </div>
      </div>

      <div class="card" data-id="mars" data-type="planet" title="Mars">
        <div class="icon planet-mars">Ma</div>
        <div class="meta">
          <h3>Mars</h3>
          <p>Planet merah — bukti bekas air, gunung raksasa, dan lembah besar.</p>
        </div>
      </div>

      <div class="card" data-id="jupiter" data-type="planet" title="Jupiter">
        <div class="icon planet-jupiter">Ju</div>
        <div class="meta">
          <h3>Jupiter</h3>
          <p>Raksasa gas terbesar — badai besar (Great Red Spot) & banyak satelit.</p>
        </div>
      </div>

      <div class="card" data-id="saturn" data-type="planet" title="Saturnus">
        <div class="icon planet-saturn">Sa</div>
        <div class="meta">
          <h3>Saturnus</h3>
          <p>Terkenal dengan cincin spektakuler — banyak satelit termasuk Titan.</p>
        </div>
      </div>

      <div class="card" data-id="uranus" data-type="planet" title="Uranus">
        <div class="icon planet-uranus">Ur</div>
        <div class="meta">
          <h3>Uranus</h3>
          <p>Planet es dengan sumbu miring ekstrem — musim panjang & unik.</p>
        </div>
      </div>

      <div class="card" data-id="neptune" data-type="planet" title="Neptunus">
        <div class="icon planet-neptune">Ne</div>
        <div class="meta">
          <h3>Neptunus</h3>
          <p>Planet biru jauh — angin tercepat di Tata Surya.</p>
        </div>
      </div>

      <div class="card" data-id="pluto" data-type="planet" title="Pluto">
        <div class="icon planet-pluto">Pl</div>
        <div class="meta">
          <h3>Pluto</h3>
          <p>Planet kerdil di Kuiper Belt — permukaan beku & kompleks.</p>
        </div>
      </div>

      <div class="card" data-id="55cancri-e" data-type="exoplanet">
  <div class="icon planet-earth">55e</div>
  <div class="meta">
    <h3>55 Cancri e</h3>
    <p>Planet lava super panas — permukaan cair.</p>
  </div>
</div>


      <div class="card" data-id="asteroid-belt" data-type="system" title="Sabuk Asteroid">
        <div class="icon planet-asteroid">AB</div>
        <div class="meta">
          <h3>Sabuk Asteroid</h3>
          <p>Zona antara Mars & Jupiter yang berisi banyak benda kecil berbatu.</p>
        </div>
      </div>

      <div class="card" data-id="sgr1900" data-type="magnetar">
  <div class="icon obj-star">Mg</div>
  <div class="meta">
    <h3>Magnetar SGR 1900+14</h3>
    <p>Objek bermagnet paling kuat di alam semesta.</p>
  </div>
</div>


      <div class="card" data-id="kuiper-belt" data-type="system" title="Kuiper Belt">
        <div class="icon planet-kuiper">KB</div>
        <div class="meta">
          <h3>Kuiper Belt</h3>
          <p>Wilayah es di luar Neptunus — rumah bagi Pluto & objek trans-Neptunian.</p>
        </div>
      </div>

      <!-- existing stars -->
      <div class="card" data-id="sirius" data-type="star" title="Sirius">
        <div class="icon obj-star">Si</div>
        <div class="meta">
          <h3>Sirius</h3>
          <p>Bintang cerah di rasi Canis Major.</p>
        </div>
      </div>

      <div class="card" data-id="betelgeuse" data-type="star" title="Betelgeuse">
        <div class="icon obj-star">Be</div>
        <div class="meta">
          <h3>Betelgeuse</h3>
          <p>Supergiant merah di rasi Orion — kandidat supernova.</p>
        </div>
      </div>

      <div class="card" data-id="polaris" data-type="star" title="Polaris">
        <div class="icon obj-star">Po</div>
        <div class="meta">
          <h3>Polaris</h3>
          <p>Bintang kutub utara — penting untuk navigasi.</p>
        </div>
      </div>

      <!-- existing nebula & galaxy -->
      <div class="card" data-id="orion-nebula" data-type="nebula" title="Nebula Orion (M42)">
        <div class="icon obj-nebula">Or</div>
        <div class="meta">
          <h3>Nebula Orion (M42)</h3>
          <p>Region pembentukan bintang yang terang di rasi Orion.</p>
        </div>
      </div>

      <div class="card" data-id="boomerang" data-type="nebula">
  <div class="icon obj-nebula">Bm</div>
  <div class="meta">
    <h3>Boomerang Nebula</h3>
    <p>Objek alam paling dingin (-272°C).</p>
  </div>
</div>


      <div class="card" data-id="crab-nebula" data-type="nebula" title="Crab Nebula (M1)">
        <div class="icon obj-nebula">Cr</div>
        <div class="meta">
          <h3>Crab Nebula (M1)</h3>
          <p>Sisa supernova yang kaya data ilmiah.</p>
        </div>
      </div>

      <div class="card" data-id="andromeda" data-type="galaxy" title="Andromeda (M31)">
        <div class="icon obj-galaxy">An</div>
        <div class="meta">
          <h3>Andromeda (M31)</h3>
          <p>Galaksi spiral besar terdekat ke Bima Sakti.</p>
        </div>
      </div>

      <!-- === NEW CARDS ADDED (moons, dwarf planets, stars, nebulae, galaxies, black holes, comets, asteroids, exoplanets) === -->

      <!-- Moons -->
      <div class="card" data-id="ganymede" data-type="moon" title="Ganymede">
        <div class="icon planet-jupiter">Ga</div>
        <div class="meta">
          <h3>Ganymede</h3>
          <p>Bulan terbesar di Tata Surya — satelit Jupiter.</p>
        </div>
      </div>

      <div class="card" data-id="europa" data-type="moon" title="Europa">
        <div class="icon planet-moon">Eu</div>
        <div class="meta">
          <h3>Europa</h3>
          <p>Bulan berlapis es Jupiter; kandidat samudra bawah permukaan.</p>
        </div>
      </div>

      <div class="card" data-id="titan" data-type="moon" title="Titan">
        <div class="icon planet-saturn">Ti</div>
        <div class="meta">
          <h3>Titan</h3>
          <p>Bulan Saturnus dengan atmosfer tebal dan danau hidrokarbon.</p>
        </div>
      </div>

      <div class="card" data-id="enceladus" data-type="moon" title="Enceladus">
        <div class="icon planet-moon">En</div>
        <div class="meta">
          <h3>Enceladus</h3>
          <p>Bulan kecil Saturnus yang memuntahkan geyser es — target astrobiologi.</p>
        </div>
      </div>

      <div class="card" data-id="io" data-type="moon" title="Io">
        <div class="icon planet-moon">Io</div>
        <div class="meta">
          <h3>Io</h3>
          <p>Bulan paling vulkanik di Tata Surya (Jupiter).</p>
        </div>
      </div>

      <div class="card" data-id="callisto" data-type="moon" title="Callisto">
        <div class="icon planet-moon">Ca</div>
        <div class="meta">
          <h3>Callisto</h3>
          <p>Bulan bergaris kawah tua di Jupiter — permukaan sangat terkrater.</p>
        </div>
      </div>

      <!-- Dwarf planets / Kuiper -->
      <div class="card" data-id="ceres" data-type="dwarf" title="Ceres">
        <div class="icon planet-asteroid">Ce</div>
        <div class="meta">
          <h3>Ceres</h3>
          <p>Planet kerdil terbesar di sabuk asteroid — pernah dikunjungi Dawn.</p>
        </div>
      </div>

      <div class="card" data-id="eris" data-type="dwarf" title="Eris">
        <div class="icon planet-pluto">Er</div>
        <div class="meta">
          <h3>Eris</h3>
          <p>Objek trans-Neptunian besar yang memicu diskusi definisi planet.</p>
        </div>
      </div>

      <div class="card" data-id="haumea" data-type="dwarf" title="Haumea">
        <div class="icon planet-kuiper">Ha</div>
        <div class="meta">
          <h3>Haumea</h3>
          <p>Planet kerdil memipih akibat rotasi cepat — Kuiper Belt.</p>
        </div>
      </div>

      <div class="card" data-id="makemake" data-type="dwarf" title="Makemake">
        <div class="icon planet-kuiper">Ma</div>
        <div class="meta">
          <h3>Makemake</h3>
          <p>Planet kerdil di Kuiper Belt — permukaan beku.</p>
        </div>
      </div>

      <!-- Nearby stars & stellar neighbors -->
      <div class="card" data-id="proxima-centauri" data-type="star" title="Proxima Centauri">
        <div class="icon obj-star">Pc</div>
        <div class="meta">
          <h3>Proxima Centauri</h3>
          <p>Red dwarf terdekat — memiliki exoplanet Proxima b.</p>
        </div>
      </div>

      <div class="card" data-id="alpha-centauri-a" data-type="star" title="Alpha Centauri A">
        <div class="icon obj-star">Aa</div>
        <div class="meta">
          <h3>Alpha Centauri A</h3>
          <p>Bintang tipe G di sistem terdekat Alpha Centauri.</p>
        </div>
      </div>

      <div class="card" data-id="sn-1987a" data-type="supernova" title="Supernova 1987A">
  <div class="icon obj-star">87A</div>
  <div class="meta">
    <h3>Supernova 1987A</h3>
    <p>Ledakan bintang paling terang di zaman modern.</p>
  </div>
</div>


      <div class="card" data-id="alpha-centauri-b" data-type="star" title="Alpha Centauri B">
        <div class="icon obj-star">Ab</div>
        <div class="meta">
          <h3>Alpha Centauri B</h3>
          <p>Pasangan Alpha Centauri A — lebih dingin & lebih kecil.</p>
        </div>
      </div>

      <div class="card" data-id="vega" data-type="star" title="Vega">
        <div class="icon obj-star">Ve</div>
        <div class="meta">
          <h3>Vega</h3>
          <p>Bintang terang biru-putih; pernah dijadikan referensi magnitudo.</p>
        </div>
      </div>

      <div class="card" data-id="rigel" data-type="star" title="Rigel">
        <div class="icon obj-star">Ri</div>
        <div class="meta">
          <h3>Rigel</h3>
          <p>Blue supergiant di rasi Orion — salah satu bintang sangat terang.</p>
        </div>
      </div>

      <div class="card" data-id="deneb" data-type="star" title="Deneb">
        <div class="icon obj-star">De</div>
        <div class="meta">
          <h3>Deneb</h3>
          <p>Supergiant terang—anggota Summer Triangle.</p>
        </div>
      </div>

      <div class="card" data-id="antares" data-type="star" title="Antares">
        <div class="icon obj-star">An</div>
        <div class="meta">
          <h3>Antares</h3>
          <p>Supergiant merah di Scorpius — bintang besar & terang.</p>
        </div>
      </div>

      <!-- Clusters / Nebulae -->
      <div class="card" data-id="pleiades" data-type="cluster" title="Pleiades (M45)">
        <div class="icon obj-galaxy">Pl</div>
        <div class="meta">
          <h3>Pleiades (M45)</h3>
          <p>Gugus bintang muda yang mudah dikenali — \"Tujuh Saudara\".</p>
        </div>
      </div>

      <div class="card" data-id="eagle-nebula" data-type="nebula" title="Eagle Nebula (M16)">
        <div class="icon obj-nebula">Eg</div>
        <div class="meta">
          <h3>Eagle Nebula (M16)</h3>
          <p>Region 'Pillars of Creation' — pabrik bintang aktif.</p>
        </div>
      </div>

      <div class="card" data-id="horsehead-nebula" data-type="nebula" title="Horsehead Nebula">
        <div class="icon obj-nebula">Hh</div>
        <div class="meta">
          <h3>Horsehead Nebula</h3>
          <p>Nebula gelap di Orion berbentuk kepala kuda (silhouette).</p>
        </div>
      </div>

      <div class="card" data-id="lagoon-nebula" data-type="nebula" title="Lagoon Nebula (M8)">
        <div class="icon obj-nebula">Lg</div>
        <div class="meta">
          <h3>Lagoon Nebula (M8)</h3>
          <p>Nebula emisi besar — cluster bintang muda di dalamnya.</p>
        </div>
      </div>

      <div class="card" data-id="helix-nebula" data-type="nebula" title="Helix Nebula">
        <div class="icon obj-nebula">He</div>
        <div class="meta">
          <h3>Helix Nebula</h3>
          <p>Nebula planet dekat — tampak seperti 'mata bercahaya'.</p>
        </div>
      </div>

      <!-- Galaxies -->
      <div class="card" data-id="milky-way" data-type="galaxy" title="Bima Sakti (Milky Way)">
        <div class="icon obj-galaxy">MW</div>
        <div class="meta">
          <h3>Bima Sakti</h3>
          <p>Galaksi tempat kita tinggal — lengan spiral & pusat berisi Sgr A*.</p>
        </div>
      </div>

      <div class="card" data-id="black-eye" data-type="galaxy">
  <div class="icon obj-galaxy">BE</div>
  <div class="meta">
    <h3>Black Eye Galaxy (M64)</h3>
    <p>Galaksi spiral dengan cincin gelap mencolok.</p>
  </div>
</div>


      <div class="card" data-id="triangulum" data-type="galaxy" title="Triangulum (M33)">
        <div class="icon obj-galaxy">Tr</div>
        <div class="meta">
          <h3>Triangulum (M33)</h3>
          <p>Galaksi spiral relatif kecil di Grup Lokal.</p>
        </div>
      </div>

      <div class="card" data-id="whirlpool" data-type="galaxy" title="Whirlpool Galaxy (M51)">
        <div class="icon obj-galaxy">Wp</div>
        <div class="meta">
          <h3>Whirlpool (M51)</h3>
          <p>Galaksi spiral berinteraksi yang menampilkan lengan jelas.</p>
        </div>
      </div>

      <div class="card" data-id="sombrero" data-type="galaxy" title="Sombrero Galaxy (M104)">
        <div class="icon obj-galaxy">Sm</div>
        <div class="meta">
          <h3>Sombrero (M104)</h3>
          <p>Galaksi fotogenik dengan bulge terang & disk debu tipis.</p>
        </div>
      </div>

      <!-- Black holes -->
      <div class="card" data-id="sagittarius-a-star" data-type="blackhole" title="Sagittarius A*">
        <div class="icon obj-galaxy">Sgr</div>
        <div class="meta">
          <h3>Sagittarius A*</h3>
          <p>Lubang hitam supermasif di pusat Bima Sakti.</p>
        </div>
      </div>

      <div class="card" data-id="the-unicorn" data-type="blackhole">
  <div class="icon obj-galaxy">Uc</div>
  <div class="meta">
    <h3>The Unicorn (BH)</h3>
    <p>Lubang hitam terkecil yang ditemukan.</p>
  </div>
</div>


      <div class="card" data-id="cygnus-x1" data-type="blackhole" title="Cygnus X-1">
        <div class="icon obj-galaxy">Cx</div>
        <div class="meta">
          <h3>Cygnus X-1</h3>
          <p>Sistem lubang hitam biner — salah satu sumber sinar-X paling terkenal.</p>
        </div>
      </div>

      <!-- Comets & asteroids -->
      <div class="card" data-id="halley-comet" data-type="comet" title="Komet Halley">
        <div class="icon planet-asteroid">Hk</div>
        <div class="meta">
          <h3>Komet Halley</h3>
          <p>Komet periodik terkenal (~76 tahun) — terakhir terlihat 1986.</p>
        </div>
      </div>

      <div class="card" data-id="vesta" data-type="asteroid" title="Vesta">
        <div class="icon planet-asteroid">Ve</div>
        <div class="meta">
          <h3>Vesta</h3>
          <p>Asteroid besar di sabuk utama — bukti vulkanisme purba.</p>
        </div>
      </div>

      <!-- Exoplanets -->
      <div class="card" data-id="trappist-1e" data-type="exoplanet" title="TRAPPIST-1e">
        <div class="icon planet-earth">T1</div>
        <div class="meta">
          <h3>TRAPPIST-1e</h3>
          <p>Exoplanet di sistem TRAPPIST-1, potensial berada di zona laik huni.</p>
        </div>
      </div>

      <div class="card" data-id="kepler-186f" data-type="exoplanet" title="Kepler-186f">
        <div class="icon planet-earth">K6</div>
        <div class="meta">
          <h3>Kepler-186f</h3>
          <p>Exoplanet mirip Bumi yang ditemukan di zona laik huni bintang induknya.</p>
        </div>
      </div>

      <!-- ===== END NEW CARDS ===== -->

    </div>
  </section>

  <div class="footer">IEA Astronomi • Konten edukatif dan interaktif. Sumber & gambar diambil dari Wikipedia / NASA bila tersedia.</div>
</div>

<!-- Modal (single modal for all objects) -->
<div id="modal" class="modal" role="dialog" aria-hidden="true">
  <div class="modal-inner" role="document">
    <div class="modal-nav">
      <div class="small-muted" id="modal-type">Kategori</div>
      <div style="flex:1"></div>
      <div>
        <button class="btn-ghost" id="prevBtn" title="Sebelumnya">← Sebelumnya</button>
        <button class="btn-ghost" id="nextBtn" title="Selanjutnya">Selanjutnya →</button>
        <button class="btn-ghost" id="closeBtn" title="Tutup (Esc)">✕ Tutup</button>
      </div>
    </div>

    <div class="modal-grid">
      <div>
        <div class="modal-preview">
          <div id="modalPreview" class="planet-large">Preview</div>
        </div>

        <div class="facts" id="factsBlock">
          <table><tbody id="factsTable"></tbody></table>
        </div>

      </div>
      <div class="modal-content">
        <h2 id="modalTitle">Judul</h2>
        <div id="modalSubtitle" class="small-muted">Subkategori</div>

        <!-- AI Explain Mode -->
<div class="explain-mode">
  <span class="explain-label">Mode Penjelasan:</span>
  <div class="explain-buttons">
    <button class="explain-btn active" data-level="smp">SMP</button>
    <button class="explain-btn" data-level="sma">SMA</button>
    <button class="explain-btn" data-level="mahasiswa">Mahasiswa</button>
  </div>
</div>

        <div class="long-desc" id="modalDesc"></div>

        <div class="funlist" id="modalFun"></div>

        <div class="btn-row">
          <button id="view3D" class="btn-primary">View 3D (Coming Soon)</button>
          <a id="learnMore" class="btn-ghost" target="_blank" rel="noopener">Baca Lebih Lanjut</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
/* =========================
   Background starfield
   ========================= */
const bgCanvas = document.getElementById('bgCanvas');
const ctx = bgCanvas.getContext('2d');
function resizeBG(){ bgCanvas.width = innerWidth; bgCanvas.height = innerHeight; initStars(); }
window.addEventListener('resize', resizeBG);
let starsBG = [];
function initStars(){
  starsBG = [];
  const density = Math.round((bgCanvas.width*bgCanvas.height)/70000);
  for(let i=0;i<density;i++){
    starsBG.push({x:Math.random()*bgCanvas.width,y:Math.random()*bgCanvas.height,r:Math.random()*1.2+0.2,alpha: Math.random()*0.8+0.2, s: Math.random()*0.02+0.01});
  }
}
function drawBG(){
  ctx.clearRect(0,0,bgCanvas.width,bgCanvas.height);
  for(const s of starsBG){
    ctx.globalAlpha = s.alpha;
    ctx.fillStyle = '#fff';
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
    s.y += s.s;
    if(s.y>bgCanvas.height){ s.y=0; s.x=Math.random()*bgCanvas.width; }
  }
  requestAnimationFrame(drawBG);
}
resizeBG();
drawBG();

/* =========================
   DATA: encyclopedia entries (detailed + wikipedia keys)
   NOTE: keys must match data-id values in the cards above
   ========================= */
const DATA = {
  "sun": {
    title:"Matahari (Sun)",
    type:"Bintang / Tata Surya",
    wikipedia:"Sun",
    previewClass:"planet-sun",
    facts:{
      "Jenis":"Bintang tipe G (Yellow Dwarf)",
      "Jarak ke Bumi":"~149.6 juta km (1 AU)",
      "Radius":"~696.340 km",
      "Massa":"~1.989 × 10^30 kg",
      "Usia":"~4.6 miliar tahun",
      "Suhu permukaan":"~5.500 °C",
      "Komposisi":"Hidrogen (~74%), Helium (~24%)"
    },
    desc:`Matahari adalah bintang pusat Tata Surya, sumber cahaya dan energi. Energi dihasilkan melalui fusi nuklir di inti, mengubah hidrogen menjadi helium. Matahari mempengaruhi cuaca antariksa, medan magnet, dan evolusi planet-planet di sekitarnya.`,
    fun:[ "Matahari memegang 99.86% massa Tata Surya.", "Cahaya yang kita lihat butuh ~8 menit untuk sampai dari permukaan Matahari ke Bumi." ],
    link:"https://en.wikipedia.org/wiki/Sun"
  },

  /* Planets (kept existing ones) */
  "mercury": { title:"Merkurius", type:"Planet", wikipedia:"Mercury_(planet)", previewClass:"planet-mercury", facts:{"Jarak dari Matahari":"~57.9 juta km","Radius":"~2,440 km","Massa":"~3.30 × 10^23 kg","Hari (rotasi)":"~58.6 hari Bumi","Tahun (revolusi)":"~88 hari Bumi","Suhu permukaan":"-173°C hingga 427°C","Gravitasi permukaan":"~0.38 g"}, desc:"Merkurius adalah planet paling dekat dengan Matahari...", fun:["Merkurius memiliki medan magnet meski kecil.","Waktu siang di Merkurius panjang karena rotasinya lambat."], link:"https://en.wikipedia.org/wiki/Mercury_(planet)"},
  "venus": { title:"Venus", type:"Planet", wikipedia:"Venus", previewClass:"planet-venus", facts:{"Jarak dari Matahari":"~108.2 juta km","Radius":"~6,052 km","Massa":"~4.87 × 10^24 kg","Hari (rotasi)":"~243 hari Bumi (retrograde)","Tahun (revolusi)":"~225 hari Bumi","Suhu permukaan":"~465 °C","Tekanan permukaan":"~92 kali Bumi"}, desc:"Venus memiliki atmosfer tebal...", fun:["Tekanan permukaan Venus ~92 kali tekanan di Bumi.","Venus memantulkan banyak cahaya sehingga sangat terang di langit malam."], link:"https://en.wikipedia.org/wiki/Venus"},
  "earth": { title:"Bumi", type:"Planet", wikipedia:"Earth", previewClass:"planet-earth", facts:{"Jarak dari Matahari":"~149.6 juta km (1 AU)","Radius":"~6,371 km","Massa":"~5.97 × 10^24 kg","Hari (rotasi)":"~24 jam","Tahun (revolusi)":"~365.25 hari","Komposisi":"Air, kerak batuan, atmosfer N₂-O₂","Jumlah satelit":"1 (Bulan)"}, desc:"Bumi mendukung kehidupan berkat kombinasi air cair, atmosfer pelindung, dan medan magnet.", fun:["70% permukaan Bumi tertutup air.","Bulan mempengaruhi stabilitas rotasi Bumi dan pasang surut."], link:"https://en.wikipedia.org/wiki/Earth"},
  "moon": { title:"Bulan (Moon)", type:"Satelit Bumi", wikipedia:"Moon", previewClass:"planet-moon", facts:{"Jarak ke Bumi":"~384,400 km","Radius":"~1,737 km","Massa":"~7.35 × 10^22 kg","Rotasi":"Synchronous (muka sama ke Bumi)","Usia":"~4.5 miliar tahun"}, desc:"Bulan terbentuk kemungkinan besar akibat tabrakan besar antara Bumi dan objek seukuran Mars.", fun:["Bulan tidak memiliki atmosfer yang signifikan.","Gerhana Bulan terjadi saat Bumi menghalangi cahaya Matahari ke Bulan."], link:"https://en.wikipedia.org/wiki/Moon"},
  "mars": { title:"Mars", type:"Planet", wikipedia:"Mars", previewClass:"planet-mars", facts:{"Jarak dari Matahari":"~227.9 juta km","Radius":"~3,390 km","Massa":"~6.42 × 10^23 kg","Hari (rotasi)":"~24.6 jam","Tahun (revolusi)":"~687 hari Bumi","Suhu rata-rata":"~-63 °C","Jumlah satelit":"2 (Phobos & Deimos)"}, desc:"Mars memiliki banyak fitur geologi menarik...", fun:["Olympus Mons adalah gunung terbesar di Tata Surya.","Eksplorasi robotik (rovers) terus mencari bukti kehidupan mikroba purba."], link:"https://en.wikipedia.org/wiki/Mars"},
  "jupiter": { title:"Jupiter", type:"Raksasa Gas", wikipedia:"Jupiter", previewClass:"planet-jupiter", facts:{"Jarak dari Matahari":"~778.5 juta km","Radius":"~69,911 km","Massa":"~1.898 × 10^27 kg","Hari (rotasi)":"~9.9 jam","Tahun (revolusi)":"~11.86 tahun Bumi","Jumlah satelit":"~80+","Ciri khas":"Great Red Spot (badai raksasa)"}, desc:"Jupiter adalah planet terbesar...", fun:["Ganymede lebih besar dari Merkurius.","Europa mungkin menyimpan lautan di bawah lapisan es."], link:"https://en.wikipedia.org/wiki/Jupiter"},
  "saturn": { title:"Saturnus", type:"Raksasa Gas", wikipedia:"Saturn", previewClass:"planet-saturn", facts:{"Jarak dari Matahari":"~1.429 miliar km","Radius":"~58,232 km","Massa":"~5.683 × 10^26 kg","Hari (rotasi)":"~10.7 jam","Tahun (revolusi)":"~29.46 tahun Bumi","Jumlah satelit":"~80+","Ciri khas":"Sistem cincin es & debu"}, desc:"Saturnus terkenal karena cincin yang indah...", fun:["Titan memiliki atmosfer yang kaya nitrogen dan danau hidrokarbon.","Cincin Saturnus tersusun dari partikel es dan batu kecil."], link:"https://en.wikipedia.org/wiki/Saturn"},
  "uranus": { title:"Uranus", type:"Planet Es", wikipedia:"Uranus", previewClass:"planet-uranus", facts:{"Jarak dari Matahari":"~2.871 miliar km","Radius":"~25,362 km","Massa":"~8.681 × 10^25 kg","Hari (rotasi)":"~17.2 jam","Tahun (revolusi)":"~84 tahun Bumi","Ciri khas":"Aksis sangat miring (~98°)"}, desc:"Uranus memiliki sumbu rotasi hampir terbaring...", fun:["Sumbu ekstrem membuat kutub mengalami malam/dengan durasi panjang.","Uranus memiliki cincin tipis."], link:"https://en.wikipedia.org/wiki/Uranus"},
  "neptune": { title:"Neptunus", type:"Planet Es", wikipedia:"Neptune", previewClass:"planet-neptune", facts:{"Jarak dari Matahari":"~4.495 miliar km","Radius":"~24,622 km","Massa":"~1.024 × 10^26 kg","Hari (rotasi)":"~16.1 jam","Tahun (revolusi)":"~164.8 tahun Bumi","Ciri khas":"Angin sangat kencang"}, desc:"Neptunus adalah planet es dengan aktivitas atmosfer dan badai besar.", fun:["Neptunus menampilkan badai dan bintik gelap serupa Jupiter.","Angin terkuat di Tata Surya tercatat di Neptunus."], link:"https://en.wikipedia.org/wiki/Neptune"},
  "pluto": { title:"Pluto", type:"Planet Kerdil", wikipedia:"Pluto", previewClass:"planet-pluto", facts:{"Jarak dari Matahari":"~5.9 miliar km","Radius":"~1,188 km","Massa":"~1.309 × 10^22 kg","Orbit":"Eksentrik & miring","Jumlah satelit":"5 (termasuk Charon)"}, desc:"Pluto berada di Kuiper Belt dan dikategorikan sebagai planet kerdil.", fun:["Charon relatif besar dibanding Pluto — mereka membentuk sistem biner yang unik.","New Horizons memetakan permukaan Pluto secara detail."], link:"https://en.wikipedia.org/wiki/Pluto"},

  /* existing regions & objects */
  "asteroid-belt": { title:"Sabuk Asteroid", type:"Tata Surya (Region)", wikipedia:"Asteroid_belt", previewClass:"planet-asteroid", facts:{"Lokasi":"Antara Mars & Jupiter","Komposisi":"Batu & logam","Objek terkenal":"Ceres (planet kerdil)"}, desc:"Sabuk Asteroid berisi banyak benda kecil sebagai sisa pembentukan Tata Surya.", fun:["Ceres adalah objek terbesar di sabuk dan diklasifikasikan sebagai planet kerdil."], link:"https://en.wikipedia.org/wiki/Asteroid_belt"},
  "kuiper-belt": { title:"Kuiper Belt", type:"Tata Surya (Region)", wikipedia:"Kuiper_belt", previewClass:"planet-kuiper", facts:{"Lokasi":"Luar Neptunus","Komposisi":"Es & objek trans-Neptunian","Objek terkenal":"Pluto, Eris, Makemake"}, desc:"Kuiper Belt adalah area benda beku dan sumber bagi beberapa komet periode pendek.", fun:["Beberapa komet periode pendek berasal dari Kuiper Belt."], link:"https://en.wikipedia.org/wiki/Kuiper_belt"},

  /* existing stars & nebula & galaxy (kept) */
  "sirius": { title:"Sirius", type:"Bintang", wikipedia:"Sirius", previewClass:"obj-star", facts:{"Jarak ke Bumi":"~8.6 tahun cahaya","Jenis":"A1V","Keterangan":"Sistem bintang ganda"}, desc:"Sirius adalah bintang terang di rasi Canis Major.", fun:["Sirius terlihat sangat terang karena kecerahan absolut dan kedekatannya ke Bumi."], link:"https://en.wikipedia.org/wiki/Sirius"},
  "betelgeuse": { title:"Betelgeuse", type:"Supergiant Merah", wikipedia:"Betelgeuse", previewClass:"obj-star", facts:{"Jarak ke Bumi":"~642 tahun cahaya","Jenis":"Red supergiant","Ukuran":"Sangat besar"}, desc:"Betelgeuse adalah supergiant merah yang sangat besar; peneliti terus memantau kemungkinannya menjadi supernova.", fun:["Jika diletakkan di pusat Tata Surya, Betelgeuse bisa menelan orbit Jupiter."], link:"https://en.wikipedia.org/wiki/Betelgeuse"},
  "polaris": { title:"Polaris", type:"Bintang (North Star)", wikipedia:"Polaris", previewClass:"obj-star", facts:{"Jarak ke Bumi":"~433 tahun cahaya","Peran":"Bintang penunjuk utara"}, desc:"Polaris berada dekat titik kutub utara langit dan telah lama digunakan untuk navigasi.", fun:["Posisi Polaris berubah perlahan akibat presesi sumbu Bumi."], link:"https://en.wikipedia.org/wiki/Polaris"},
  "orion-nebula": { title:"Nebula Orion (M42)", type:"Nebula", wikipedia:"Orion_Nebula", previewClass:"obj-nebula", facts:{"Jarak ke Bumi":"~1,344 tahun cahaya","Jenis":"Nebula emisi","Keterangan":"Region pembentukan bintang"}, desc:"Nebula Orion adalah awan gas & debu yang menjadi tempat kelahiran bintang.", fun:["Tampak sebagai bintik kabur di rasi Orion; mudah diamati dengan teleskop kecil."], link:"https://en.wikipedia.org/wiki/Orion_Nebula"},
  "crab-nebula": { title:"Crab Nebula (M1)", type:"Sisa Supernova", wikipedia:"Crab_Nebula", previewClass:"obj-nebula", facts:{"Jarak ke Bumi":"~6,500 tahun cahaya","Asal":"Ledakan supernova 1054 M","Ciri":"Mengandung pulsar di pusat"}, desc:"Crab Nebula terbentuk dari ledakan supernova yang tercatat pada tahun 1054 M.", fun:["Memberikan wawasan tentang ledakan supernova dan evolusi bintang masif."], link:"https://en.wikipedia.org/wiki/Crab_Nebula"},
  "andromeda": { title:"Andromeda (M31)", type:"Galaksi Spiral", wikipedia:"Andromeda_Galaxy", previewClass:"obj-galaxy", facts:{"Jarak ke Bima Sakti":"~2.54 juta tahun cahaya","Jenis":"Spiral","Ukuran":"Miliaran bintang"}, desc:"Andromeda adalah galaksi spiral besar terdekat; akan berinteraksi (bertabrakan-gravitasi) dengan Bima Sakti dalam miliaran tahun.", fun:["Andromeda dapat terlihat dengan mata telanjang dari lokasi gelap."], link:"https://en.wikipedia.org/wiki/Andromeda_Galaxy"},

  /* =========================
     NEW ENTRIES (match new cards above)
     ========================= */

  /* Moons */
  "ganymede": {
    title: "Ganymede",
    type: "Bulan (Jupiter)",
    wikipedia: "Ganymede_(moon)",
    previewClass: "planet-jupiter",
    facts: {
      "Diameter": "~5,262 km",
      "Massa": "~1.48 × 10^23 kg",
      "Orbit": "Mengorbit Jupiter (7.15 hari)",
      "Ciri": "Bulan terbesar di Tata Surya"
    },
    desc: "Ganymede adalah bulan terbesar di Tata Surya, lebih besar dari planet Merkurius. Memiliki inti metalik, medan magnet lemah, dan indikasi lautan asin di bawah kerak esnya.",
    fun: ["Ganymede satu-satunya bulan yang diketahui memiliki medan magnet sendiri.", "Memiliki aurora kutub yang dipicu interaksi magnetik dengan lingkungan Jupiter."],
    link: "https://en.wikipedia.org/wiki/Ganymede_(moon)"
  },

  "europa": {
    title: "Europa",
    type: "Bulan (Jupiter)",
    wikipedia: "Europa_(moon)",
    previewClass: "planet-moon",
    facts: {
      "Diameter": "~3,121 km",
      "Massa": "~4.80 × 10^22 kg",
      "Orbit": "Mengorbit Jupiter (3.55 hari)",
      "Ciri": "Permukaan es & kemungkinan lautan bawah permukaan"
    },
    desc: "Europa memiliki permukaan es dengan retakan panjang. Data menunjukkan kemungkinan keberadaan lautan global cair di bawah permukaan — kandidat utama untuk mencari tanda-tanda kehidupan mikroba.",
    fun: ["Diperkirakan memiliki samudra cair yang luas di bawah lapisan es.", "Telah terdeteksi plumes (semacam semburan) yang mungkin berasal dari samudra bawah permukaan."],
    link: "https://en.wikipedia.org/wiki/Europa_(moon)"
  },

  "titan": {
    title: "Titan",
    type: "Bulan (Saturnus)",
    wikipedia: "Titan_(moon)",
    previewClass: "planet-saturn",
    facts: {
      "Diameter": "~5,151 km",
      "Massa": "~1.345 × 10^23 kg",
      "Orbit": "Mengorbit Saturnus (15.95 hari)",
      "Ciri": "Atmosfer tebal, danau & sungai hidrokarbon"
    },
    desc: "Titan adalah bulan Saturnus yang memiliki atmosfer tebal kaya nitrogen serta lautan dan sungai hidrokarbon (metana & etana). Kondisi kimianya menarik untuk studi pra-biologis dan astrobiologi.",
    fun: ["Titan menunjukkan siklus cuaca metana—awan, hujan, aliran sungai, danau.", "Misi Cassini–Huygens memberi banyak data penting tentang Titan."],
    link: "https://en.wikipedia.org/wiki/Titan_(moon)"
  },

  "enceladus": {
    title: "Enceladus",
    type: "Bulan (Saturnus)",
    wikipedia: "Enceladus",
    previewClass: "planet-moon",
    facts: {
      "Diameter": "~504 km",
      "Orbit": "Mengorbit Saturnus",
      "Ciri": "Geyser es & indikasi lautan bawah permukaan"
    },
    desc: "Enceladus memuntahkan material es dari celah-celah di dekat kutub selatannya; analisis material menunjukkan adanya air dan molekul organik, menjadikannya target astrobiologi penting.",
    fun: ["Geyser Enceladus menyuplai partikel ke cincin E Saturnus.", "Material yang disembur seringkali mengandung molekul organik kompleks."],
    link: "https://en.wikipedia.org/wiki/Enceladus"
  },

  "io": {
    title: "Io",
    type: "Bulan (Jupiter)",
    wikipedia: "Io_(moon)",
    previewClass: "planet-moon",
    facts: {
      "Diameter": "~3,643 km",
      "Orbit": "Mengorbit Jupiter (1.77 hari)",
      "Ciri": "Sangat vulkanik — aktivitas vulkanik terbanyak"
    },
    desc: "Io adalah benda paling vulkanik di Tata Surya karena pemanasan pasang surut yang kuat dari gravitasi Jupiter dan interaksi orbital dengan Europa & Ganymede. Permukaannya penuh aktivitas vulkanik.",
    fun: ["Letusan vulkanik Io memuntahkan sulfur dan material lain hingga ratusan kilometer.", "Permukaan Io selalu berubah akibat letusan vulkanik."],
    link: "https://en.wikipedia.org/wiki/Io_(moon)"
  },

  "callisto": {
    title: "Callisto",
    type: "Bulan (Jupiter)",
    wikipedia: "Callisto_(moon)",
    previewClass: "planet-moon",
    facts: {
      "Diameter": "~4,820 km",
      "Orbit": "Mengorbit Jupiter (16.69 hari)",
      "Ciri": "Permukaan sangat terkrater—geologi relatif tenang"
    },
    desc: "Callisto merupakan bulan bertabur kawah dan termasuk yang tertua secara permukaan di Tata Surya; aktivitas geologinya rendah dibandingkan saudara-saudarnya.",
    fun: ["Memiliki permukaan sangat banyak kawah—menunjukkan usia permukaan yang tua.", "Mungkin memiliki samudra di bawah permukaan, meski bukti lebih samar daripada Europa."],
    link: "https://en.wikipedia.org/wiki/Callisto_(moon)"
  },

  /* Dwarf planets & Kuiper objects */
  "ceres": {
    title: "Ceres",
    type: "Planet Kerdil",
    wikipedia: "Ceres_(dwarf_planet)",
    previewClass: "planet-asteroid",
    facts: {
      "Diameter": "~946 km",
      "Massa": "~9.39 × 10^20 kg",
      "Orbit": "Sabuk Asteroid",
      "Ciri": "Planet kerdil terbesar di sabuk asteroid"
    },
    desc: "Ceres adalah objek terbesar di sabuk asteroid antara Mars & Jupiter. Misi Dawn memetakan permukaannya dan menemukan area cerah (deposit garam) serta kemungkinan aktivitas geologi.",
    fun: ["Permukaan 'bintik putih' di beberapa cekungan terkait deposit garam.", "Ditemukan pada 1801 dan dinamai sesuai dewi Romawi."],
    link: "https://en.wikipedia.org/wiki/Ceres_(dwarf_planet)"
  },

  "eris": {
    title: "Eris",
    type: "Planet Kerdil",
    wikipedia: "Eris_(dwarf_planet)",
    previewClass: "planet-pluto",
    facts: {
      "Diameter": "~2,326 km (perk.)",
      "Orbit": "Trans-Neptunian (Kuiper Belt)",
      "Ciri": "Salah satu planet kerdil terbesar"
    },
    desc: "Eris adalah objek trans-Neptunian yang ukurannya memicu diskusi ulang definisi planet. Memiliki satelit Dysnomia dan orbit yang sangat eksentrik.",
    fun: ["Eris memiliki satelit yang dikenal (Dysnomia).", "Orbitnya sangat jauh sehingga periode orbitalnya sangat panjang."],
    link: "https://en.wikipedia.org/wiki/Eris_(dwarf_planet)"
  },

  "haumea": {
    title: "Haumea",
    type: "Planet Kerdil",
    wikipedia: "136108_Haumea",
    previewClass: "planet-kuiper",
    facts: {
      "Ciri": "Bentuk memanjang akibat rotasi cepat",
      "Orbit": "Kuiper Belt",
      "Satelit": "Hiʻiaka, Namaka"
    },
    desc: "Haumea memiliki rotasi sangat cepat yang merubah bentuknya menjadi agak memipih. Memiliki beberapa satelit dan permukaan yang sebagian besar terdiri dari es.",
    fun: ["Rotasi sangat cepat mempengaruhi bentuk fisiknya.", "Memiliki beberapa satelit kecil yang ditemukan kemudian."],
    link: "https://en.wikipedia.org/wiki/136108_Haumea"
  },

  "55cancri-e": {
  title: "55 Cancri e",
  type: "Exoplanet Lava",
  wikipedia: "55_Cancri_e",
  previewClass: "planet-earth",
  facts: {
    "Jarak": "~41 ly",
    "Suhu": "~2400 °C",
    "Orbit": "18 jam"
  },
  desc: "55 Cancri e adalah planet lava ekstrem yang sangat dekat dengan bintangnya. Permukaan selalu dalam keadaan cair.",
  fun: ["Memiliki fase malam & siang sangat ekstrem."],
  link: "https://en.wikipedia.org/wiki/55_Cancri_e"
},

"sgr1900": {
  title: "Magnetar SGR 1900+14",
  type: "Magnetar",
  wikipedia: "SGR_1900%2B14",
  previewClass: "obj-star",
  facts: {
    "Medan Magnet": "~10^15 Gauss",
    "Jenis": "Bintang neutron",
    "Fenomena": "Giant flare"
  },
  desc: "Salah satu magnetar paling kuat yang pernah diamati, terkenal karena ledakan gamma besar pada tahun 1998.",
  fun: ["Magnetarnya bisa menghapus data harddisk dari jarak ribuan km bila dekat."],
  link: "https://en.wikipedia.org/wiki/SGR_1900%2B14"
},



  "makemake": {
    title: "Makemake",
    type: "Planet Kerdil",
    wikipedia: "Makemake",
    previewClass: "planet-kuiper",
    facts: {
      "Orbit": "Kuiper Belt",
      "Ciri": "Objek trans-Neptunian, permukaan es"
    },
    desc: "Makemake adalah planet kerdil di Kuiper Belt dengan permukaan dingin dan area kaya es; ditemukan relatif baru dibanding planet tradisional.",
    fun: ["Permukaannya dingin dan sedikit atmosfer jika ada bersifat sementara saat perihelion."],
    link: "https://en.wikipedia.org/wiki/Makemake"
  },

  /* Nearby stars */
  "proxima-centauri": {
    title: "Proxima Centauri",
    type: "Bintang (Red Dwarf)",
    wikipedia: "Proxima_Centauri",
    previewClass: "obj-star",
    facts: {
      "Jarak ke Bumi": "~4.24 tahun cahaya",
      "Jenis": "Red dwarf",
      "Catatan": "Bintang terdekat dengan Tata Surya"
    },
    desc: "Proxima Centauri adalah red dwarf terdekat, bagian dari sistem Alpha Centauri. Memiliki exoplanet (Proxima b) yang mendapat banyak perhatian astrobiologi.",
    fun: ["Meskipun dekat, Proxima Centauri redup dibanding bintang terang lainnya.", "Sering mengalami flare tinggi (peningkatan aktivitas radiasi)."],
    link: "https://en.wikipedia.org/wiki/Proxima_Centauri"
  },

  "alpha-centauri-a": {
    title: "Alpha Centauri A",
    type: "Bintang",
    wikipedia: "Alpha_Centauri",
    previewClass: "obj-star",
    facts: { "Jarak": "~4.37 tahun cahaya", "Jenis":"G-type (mirip Matahari)" },
    desc: "Alpha Centauri A adalah salah satu komponen sistem bintang terdekat; mirip Matahari dan menarik untuk studi exoplanet di lingkungan dekat.",
    fun: ["Sistem Alpha Centauri adalah target misi dan studi pencarian exoplanet masa depan."],
    link: "https://en.wikipedia.org/wiki/Alpha_Centauri"
  },

  "alpha-centauri-b": {
    title: "Alpha Centauri B",
    type: "Bintang",
    wikipedia: "Alpha_Centauri",
    previewClass: "obj-star",
    facts: { "Jenis":"K-type (lebih kecil & dingin dari Matahari)" },
    desc: "Alpha Centauri B adalah pasangan di sistem Alpha Centauri; keduanya bersama Proxima membentuk lingkungan bintang terdekat bagi studi astronomi.",
    fun: ["Bersama Alpha Centauri A membentuk pasangan bintang stabil."],
    link: "https://en.wikipedia.org/wiki/Alpha_Centauri"
  },

  "vega": {
    title: "Vega",
    type: "Bintang",
    wikipedia: "Vega",
    previewClass: "obj-star",
    facts: {"Jarak":"~25 tahun cahaya","Jenis":"A0V"},
    desc: "Vega adalah bintang terang biru-putih yang pernah digunakan sebagai referensi sistem magnitudo. Memiliki debu circumstellar yang menandakan sisa pembentukan planet.",
    fun: ["Vega memiliki disk debu yang terdeteksi dengan inframerah."],
    link: "https://en.wikipedia.org/wiki/Vega"
  },

  "rigel": {
    title: "Rigel",
    type: "Bintang",
    wikipedia: "Rigel",
    previewClass: "obj-star",
    facts: {"Jarak":"~860 tahun cahaya","Jenis":"Blue supergiant"},
    desc: "Rigel adalah supergiant biru terang di rasi Orion.",
    fun: ["Rigel akan berevolusi cepat dan berpotensi menjadi supernova suatu saat."],
    link: "https://en.wikipedia.org/wiki/Rigel"
  },

  "deneb": {
    title: "Deneb",
    type: "Bintang",
    wikipedia: "Deneb",
    previewClass: "obj-star",
    facts: {"Jarak":"~2,600 tahun cahaya (perk.)","Jenis":"Blue-white supergiant"},
    desc: "Deneb adalah salah satu bintang paling terang di konstelasi Cygnus dan anggota Summer Triangle.",
    fun: ["Ukuran dan luminositas Deneb besar, tapi jaraknya membuat ukuran sebenarnya sulit dipastikan."],
    link: "https://en.wikipedia.org/wiki/Deneb"
  },

  "antares": {
    title: "Antares",
    type: "Bintang",
    wikipedia: "Antares",
    previewClass: "obj-star",
    facts: {"Jarak":"~550 tahun cahaya","Jenis":"Red supergiant"},
    desc: "Antares adalah red supergiant di rasi Scorpius; sangat besar dan terang, menandai tahap akhir evolusi bintang masif.",
    fun: ["Antares kemungkinan akan berakhir sebagai supernova dalam skala waktu astronomi."],
    link: "https://en.wikipedia.org/wiki/Antares"
  },

  /* Clusters / Nebulae */
  "pleiades": {
    title: "Pleiades (M45)",
    type: "Gugus Bintang",
    wikipedia: "Pleiades",
    previewClass: "obj-galaxy",
    facts: {"Jarak":"~444 tahun cahaya","Jenis":"Gugus terbuka (bintang muda)"},
    desc: "Pleiades adalah gugus bintang muda terang, dikenal dalam banyak mitologi sebagai 'Tujuh Saudara'.",
    fun: ["Terdapat banyak anggota yang tidak terlihat dengan mata telanjang."],
    link: "https://en.wikipedia.org/wiki/Pleiades"
  },

  "boomerang": {
  title: "Boomerang Nebula",
  type: "Pranebula Planet",
  wikipedia: "Boomerang_Nebula",
  previewClass: "obj-nebula",
  facts: {
    "Suhu": "-272°C",
    "Jarak": "~5.000 ly"
  },
  desc: "Boomerang Nebula adalah objek paling dingin yang pernah diukur di alam semesta, bahkan lebih dingin dari ruang hampa itu sendiri.",
  fun: ["Temperaturnya hanya 1°C di atas nol mutlak."],
  link: "https://en.wikipedia.org/wiki/Boomerang_Nebula"
},


  "eagle-nebula": {
    title: "Eagle Nebula (M16)",
    type: "Nebula",
    wikipedia: "Eagle_Nebula",
    previewClass: "obj-nebula",
    facts: {"Jarak":"~7.000 tahun cahaya","Ciri":"Pillars of Creation (pilar pembentuk bintang)"},
    desc: "Eagle Nebula terkenal karena 'Pillars of Creation' — pilar gas dan debu tempat bintang terbentuk.",
    fun: ["Difoto ikonik oleh Hubble; menunjukkan pembentukan bintang yang aktif."],
    link: "https://en.wikipedia.org/wiki/Eagle_Nebula"
  },

  "horsehead-nebula": {
    title: "Horsehead Nebula",
    type: "Nebula",
    wikipedia: "Horsehead_Nebula",
    previewClass: "obj-nebula",
    facts: {"Lokasi":"Rasi Orion","Ciri":"Silhouette berbentuk kepala kuda"},
    desc: "Horsehead Nebula adalah awan gelap yang memproyeksikan bentuk seperti kepala kuda terhadap latar emisi di belakangnya.",
    fun: ["Bentuknya sangat ikonik dan sering dipotret dalam astrofotografi."],
    link: "https://en.wikipedia.org/wiki/Horsehead_Nebula"
  },

  "lagoon-nebula": {
    title: "Lagoon Nebula (M8)",
    type: "Nebula",
    wikipedia: "Lagoon_Nebula",
    previewClass: "obj-nebula",
    facts: {"Jarak":"~4,000 tahun cahaya","Ciri":"Region pembentukan bintang besar"},
    desc: "Lagoon Nebula adalah nebula emisi terang yang berisi cluster bintang muda dan struktur gas yang rumit.",
    fun: ["Salah satu nebula terang yang dapat dilihat dengan teleskop amatir."],
    link: "https://en.wikipedia.org/wiki/Lagoon_Nebula"
  },

  "helix-nebula": {
    title: "Helix Nebula",
    type: "Nebula Planet",
    wikipedia: "Helix_Nebula",
    previewClass: "obj-nebula",
    facts: {"Jarak":"~655 tahun cahaya","Tipe":"Nebula planet"},
    desc: "Helix Nebula (NGC 7293) dikenal sebagai 'Eye of God' karena tampilannya seperti mata bercahaya; merupakan nebula planet terdekat.",
    fun: ["Dibentuk dari lapisan gas yang dilepas bintang seukuran Matahari di tahap akhir hidupnya."],
    link: "https://en.wikipedia.org/wiki/Helix_Nebula"
  },

  /* Galaxies */
  "milky-way": {
    title: "Galaksi Bima Sakti",
    type: "Galaksi",
    wikipedia: "Milky_Way",
    previewClass: "obj-galaxy",
    facts: {"Diameter":"~100.000 ly","Jumlah bintang":"~100–400 miliar","Ciri":"Spiral berbatang"},
    desc: "Bima Sakti adalah galaksi spiral tempat Tata Surya berada; pusatnya mengandung lubang hitam supermasif Sagittarius A*.",
    fun: ["Bima Sakti tampak sebagai pita bercahaya pada langit malam yang sangat gelap."],
    link: "https://en.wikipedia.org/wiki/Milky_Way"
  },

  "black-eye": {
  title: "Black Eye Galaxy (M64)",
  type: "Galaksi Spiral",
  wikipedia: "Black_Eye_Galaxy",
  previewClass: "obj-galaxy",
  facts: {
    "Jarak": "~17 juta ly",
    "Ciri": "Cincin gelap debu"
  },
  desc: "Galaksi ini memiliki pita debu gelap yang sangat mencolok, tampak seperti 'mata hitam'.",
  fun: ["Disebut juga 'Sleeping Beauty Galaxy'."],
  link: "https://en.wikipedia.org/wiki/Black_Eye_Galaxy"
},


  "triangulum": {
    title: "Triangulum (M33)",
    type: "Galaksi",
    wikipedia: "Triangulum_Galaxy",
    previewClass: "obj-galaxy",
    facts: {"Jarak":"~2.73 juta ly","Jenis":"Spiral kecil"},
    desc: "Triangulum adalah galaksi spiral kecil di Grup Lokal; menarik karena region pembentukan bintangnya.",
    fun: ["M33 memiliki beberapa region H II terang (pabrik bintang)."],
    link: "https://en.wikipedia.org/wiki/Triangulum_Galaxy"
  },

  "whirlpool": {
    title: "Whirlpool Galaxy (M51)",
    type: "Galaksi Interaksi",
    wikipedia: "Whirlpool_Galaxy",
    previewClass: "obj-galaxy",
    facts: {"Jarak":"~23 juta ly","Jenis":"Spiral berinteraksi"},
    desc: "Whirlpool Galaxy sering dipelajari sebagai contoh galaksi spiral yang berinteraksi dengan pengiringnya (NGC 5195), memicu pembentukan bintang.",
    fun: ["Interaksi galaksi dapat memicu ledakan pembentukan bintang di lengan spiral."],
    link: "https://en.wikipedia.org/wiki/Whirlpool_Galaxy"
  },

  "sombrero": {
    title: "Sombrero Galaxy (M104)",
    type: "Galaksi",
    wikipedia: "Sombrero_Galaxy",
    previewClass: "obj-galaxy",
    facts: {"Jarak":"~31 juta ly","Ciri":"Bulge besar & cincin debu"},
    desc: "Sombrero Galaxy memiliki penampakan seperti topi dengan bulge terang dan disk debu tipis yang membuatnya sangat fotogenik.",
    fun: ["Kontras bulge dan disk debu membuat Sombrero mudah dikenali."],
    link: "https://en.wikipedia.org/wiki/Sombrero_Galaxy"
  },

  /* Black holes */
  "sagittarius-a-star": {
    title: "Sagittarius A*",
    type: "Lubang Hitam",
    wikipedia: "Sagittarius_A*",
    previewClass: "obj-galaxy",
    facts: {"Massa":"~4.3×10^6 M☉","Lokasi":"Pusat Bima Sakti"},
    desc: "Sagittarius A* adalah lubang hitam supermasif yang berada di pusat Bima Sakti dan telah dipelajari melalui orbit bintang di sekitarnya serta pengamatan EHT.",
    fun: ["Bukti orbit bintang di sekitar Sgr A* memberikan ukuran massa yang presisi.","EHT menargetkan studi bayangan lubang hitam pada tahun-tahun terakhir."],
    link: "https://en.wikipedia.org/wiki/Sagittarius_A*"
  },

  "the-unicorn": {
  title: "The Unicorn",
  type: "Lubang Hitam Kecil",
  wikipedia: "The_Unicorn_(black_hole)",
  previewClass: "obj-galaxy",
  facts: {
    "Massa": "~3 M☉",
    "Jarak": "~1.500 ly"
  },
  desc: "Salah satu lubang hitam paling kecil yang pernah ditemukan, disebut 'The Unicorn' karena langka.",
  fun: ["Dekat dengan rasi Monoceros (Unicorn)."],
  link: "https://en.wikipedia.org/wiki/The_Unicorn_(black_hole)"
},


  "sn-1987a": {
  title: "Supernova 1987A",
  type: "Supernova",
  wikipedia: "SN_1987A",
  previewClass: "obj-star",
  facts: {
    "Tahun Ledakan": "1987",
    "Jarak": "~168.000 tahun cahaya",
    "Lokasi": "Awan Magellan Besar"
  },
  desc: "Supernova 1987A adalah salah satu supernova paling terang dan paling dekat yang pernah diamati dalam era modern.",
  fun: ["Dipelajari intensif oleh teleskop Hubble.", "Memberikan wawasan besar tentang evolusi bintang masif."],
  link: "https://en.wikipedia.org/wiki/SN_1987A"
},


  "cygnus-x1": {
    title: "Cygnus X-1",
    type: "Lubang Hitam (biner X-ray)",
    wikipedia: "Cygnus_X-1",
    previewClass: "obj-galaxy",
    facts: {"Massa":"~21 M☉","Jarak":"~7.200 ly"},
    desc: "Cygnus X-1 adalah salah satu kandidat lubang hitam biner pertama yang diterima luas; sistem ini adalah sumber sinar X kuat akibat materi yang mengalir ke kompaktif objek.",
    fun: ["Menjadi objek penting dalam studi lubang hitam bintang dan sinar-X."],
    link: "https://en.wikipedia.org/wiki/Cygnus_X-1"
  },

  /* Comet & asteroid */
  "halley-comet": {
    title: "Komet Halley",
    type: "Komet",
    wikipedia: "Halley's_Comet",
    previewClass: "planet-asteroid",
    facts: {"Periode orbit":"~76 tahun","Diameter nucleus":"~15×8 km"},
    desc: "Komet Halley adalah komet periodik terkenal yang kembali mendekat ke Bumi setiap sekitar 76 tahun. Sejarah penampakannya tercatat ribuan tahun.",
    fun: ["Berkaitan dengan hujan meteor Orionids & Eta Aquariids.", "Terakhir melewati Bumi pada 1986; diperkirakan kembali 2061."],
    link: "https://en.wikipedia.org/wiki/Halley's_Comet"
  },

  "vesta": {
    title: "Vesta",
    type: "Asteroid",
    wikipedia: "4_Vesta",
    previewClass: "planet-asteroid",
    facts: {"Diameter":"~525 km","Orbit":"Sabuk utama","Kelas":"Protoplanet/asteroid besar"},
    desc: "Vesta adalah salah satu asteroid terbesar di sabuk utama dan menunjukkan bukti vulkanisme purba pada permukaannya.",
    fun: ["Dikenal sebagai protoplanet karena hampir bulat secara gravitasi.", "Menyumbang meteorit tertentu yang ditemukan di Bumi."],
    link: "https://en.wikipedia.org/wiki/4_Vesta"
  },

  /* Exoplanets */
  "trappist-1e": {
    title: "TRAPPIST-1e",
    type: "Exoplanet",
    wikipedia: "TRAPPIST-1e",
    previewClass: "planet-earth",
    facts: {"Sistem":"TRAPPIST-1","Jarak":"~39 tahun cahaya"},
    desc: "TRAPPIST-1e adalah salah satu exoplanet di sistem TRAPPIST-1 yang ukurannya mirip Bumi dan berada di zona yang memungkinkan keberadaan air cair (tergantung atmosfer).",
    fun: ["Sistem TRAPPIST-1 memiliki beberapa planet berukuran mirip Bumi yang saling dekat."],
    link: "https://en.wikipedia.org/wiki/TRAPPIST-1"
  },

  "kepler-186f": {
    title: "Kepler-186f",
    type: "Exoplanet",
    wikipedia: "Kepler-186f",
    previewClass: "planet-earth",
    facts: {"Jarak":"~492 tahun cahaya"},
    desc: "Kepler-186f adalah salah satu exoplanet awal yang ditemukan berada di zona laik huni bintang tipe M — penting dalam studi planet mirip Bumi.",
    fun: ["Menjadi contoh penting dalam statistik exoplanet mirip Bumi."],
    link: "https://en.wikipedia.org/wiki/Kepler-186f"
  }

}; /* end DATA */

/* =========================
   UTILITIES & UI BINDING
   ========================= */
const grid = document.getElementById('grid');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalSubtitle = document.getElementById('modalSubtitle');
const modalDesc = document.getElementById('modalDesc');
const modalFun = document.getElementById('modalFun');
const modalPreview = document.getElementById('modalPreview');
const factsTable = document.getElementById('factsTable');
const modalType = document.getElementById('modal-type');
const view3D = document.getElementById('view3D');
const learnMore = document.getElementById('learnMore');

let ids = Array.from(document.querySelectorAll('#grid .card')).map(c=>c.dataset.id);
let currentIndex = 0;

/* Helper: fetch Wikipedia summary to get an image (thumbnail) */
async function fetchWikiThumbnail(wikiTitle){
  if(!wikiTitle) return null;
  const endpoint = 'https://en.wikipedia.org/api/rest_v1/page/summary/'+encodeURIComponent(wikiTitle);
  try{
    const res = await fetch(endpoint);
    if(!res.ok) return null;
    const json = await res.json();
    if(json && json.thumbnail && json.thumbnail.source) return {src: json.thumbnail.source,desc: json.description || json.extract};
    if(json && json.originalimage && json.originalimage.source) return {src: json.originalimage.source,desc: json.description || json.extract};
    return null;
  }catch(e){
    console.warn('Wiki fetch error', e);
    return null;
  }
}

/* Open object modal with data & attempt to load image */
async function openObject(id){
  const data = DATA[id];
  if(!data) return;
  modalTitle.textContent = data.title || id;
  modalSubtitle.textContent = data.type || '';
  modalDesc.innerHTML = (data.desc || '');
  // set placeholder preview (css)
  modalPreview.className = 'planet-large '+(data.previewClass||'');
  modalPreview.innerHTML = data.title.split(' ')[0];

  // facts
  factsTable.innerHTML = '';
  if(data.facts){
    for(const k of Object.keys(data.facts)){
      const tr = document.createElement('tr');
      tr.innerHTML = `<td style="width:46%;color:var(--muted)">${k}</td><td style="text-align:right">${data.facts[k]}</td>`;
      factsTable.appendChild(tr);
    }
  }

  // fun facts
  modalFun.innerHTML = '<strong>Fakta Menarik:</strong><ul style="margin:8px 0 0 18px" id="funList"></ul>';
  const ul = document.getElementById('funList');
  if(data.fun && data.fun.length){ for(const f of data.fun){ const li=document.createElement('li'); li.style.marginBottom='6px'; li.textContent=f; ul.appendChild(li);} }
  else ul.innerHTML = '<li>Tidak ada fakta tambahan.</li>';

  // set learn more link
  learnMore.href = data.link || '#';
  learnMore.textContent = "Buka sumber (Wikipedia/NASA)";

  // show modal early (so user sees UI), then fetch image
  modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
  currentIndex = ids.indexOf(id);
  modalType.textContent = data.type || '';

  // set view3D placeholder action
  view3D.onclick = ()=>{ alert('Tombol View 3D akan memuat model interaktif — nanti diintegrasikan dengan Three.js.'); };

  // attempt to fetch Wikipedia thumbnail
  modalPreview.innerHTML = '<div style="color:var(--muted)">Memuat gambar…</div>';
  modalPreview.style.background = 'rgba(0,0,0,0.12)';
  const wikiTitle = data.wikipedia || data.title;
  const thumb = await fetchWikiThumbnail(wikiTitle);
  if(thumb && thumb.src){
    modalPreview.innerHTML = `<img src="${thumb.src}" alt="${data.title}">`;
  } else {
    // fallback to CSS preview circle
    modalPreview.className = 'planet-large '+(data.previewClass||'');
    modalPreview.innerHTML = data.title.split(' ')[0];
  }
}

/* click listeners on cards */
document.querySelectorAll('#grid .card').forEach(card=>{
  card.addEventListener('click', ()=> openObject(card.dataset.id));
});

/* modal close */
document.getElementById('closeBtn').addEventListener('click', ()=> closeModal());
modal.addEventListener('click',(e)=>{ if(e.target===modal) closeModal(); });
function closeModal(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); }

/* prev / next */
document.getElementById('prevBtn').addEventListener('click', ()=>{
  currentIndex = (currentIndex-1+ids.length)%ids.length; openObject(ids[currentIndex]);
});
document.getElementById('nextBtn').addEventListener('click', ()=>{
  currentIndex = (currentIndex+1)%ids.length; openObject(ids[currentIndex]);
});

/* keyboard nav */
document.addEventListener('keydown',(e)=>{
  if(modal.classList.contains('show')){
    if(e.key==='Escape') closeModal();
    if(e.key==='ArrowLeft'){ currentIndex=(currentIndex-1+ids.length)%ids.length; openObject(ids[currentIndex]); }
    if(e.key==='ArrowRight'){ currentIndex=(currentIndex+1)%ids.length; openObject(ids[currentIndex]); }
  }
});

/* SEARCH & FILTER */
const searchInput = document.getElementById('searchInput');
const badges = document.querySelectorAll('.badge');

searchInput.addEventListener('input', filterGrid);
badges.forEach(b=>b.addEventListener('click', ()=>{
  badges.forEach(x=>x.classList.remove('active'));
  b.classList.add('active');
  filterGrid();
}));

function filterGrid(){
  const q = searchInput.value.trim().toLowerCase();
  const activeFilter = document.querySelector('.badge.active')?.dataset.filter || 'all';
  document.querySelectorAll('#grid .card').forEach(card=>{
    const id = card.dataset.id;
    const data = DATA[id];
    let matchesFilter = (activeFilter==='all') || (data && data.type && data.type.toLowerCase().includes(activeFilter));
    let matchesQuery = (!q) || ( (data.title||'').toLowerCase().includes(q) || (data.desc||'').toLowerCase().includes(q) );
    card.style.display = (matchesFilter && matchesQuery) ? 'flex' : 'none';
  });
}
filterGrid();

</script>
<script src="script.js" defer></script>

</body>
</html>
