<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>IEA Astronomi — Ensiklopedia Interaktif (Lite NASA)</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#020117;
  --panel: rgba(255,255,255,0.04);
  --accent1:#6b21ff;
  --accent2:#ff4fc1;
  --muted:#bfc7d6;
  --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:var(--bg);color:#fff}
a{color:inherit;text-decoration:none}

/* Background */
#bgCanvas{position:fixed;inset:0;z-index:-2}
.bg-gradient{position:fixed;inset:0;z-index:-3;background:
  radial-gradient(ellipse at 10% 20%, rgba(107,33,255,0.08), transparent 8%),
  radial-gradient(ellipse at 80% 80%, rgba(255,79,193,0.06), transparent 12%),
  linear-gradient(180deg,#031024 0%, #020117 100%);}

/* Layout */
.container{max-width:1200px;margin:0 auto;padding:28px}
.header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:22px;}
.brand{display:flex;align-items:center;gap:14px;}
.logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent1),var(--accent2));box-shadow:0 6px 30px rgba(107,33,255,0.18);display:flex;align-items:center;justify-content:center;font-weight:700}
.title{font-size:20px;font-weight:700}
.subtitle{font-size:13px;color:var(--muted)}

/* Search bar */
.search-wrap{display:flex;gap:8px;align-items:center}
.search-box{background:var(--panel);padding:8px 12px;border-radius:12px;display:flex;gap:8px;align-items:center;box-shadow:0 6px 18px rgba(0,0,0,0.6)}
.search-box input{background:transparent;border:none;outline:none;color:#fff;font-size:14px;width:220px}
.filter-badges{display:flex;gap:8px;align-items:center;margin-left:10px}
.badge{font-size:12px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);color:var(--muted);cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
.badge.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;border:none;box-shadow:0 6px 20px rgba(107,33,255,0.12)}

/* Hero */
.hero{padding:28px;margin-bottom:24px;border-radius:18px;background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);display:flex;gap:24px;align-items:center}
.hero-left{flex:1}
.hero h1{font-size:28px;margin:0 0 6px 0}
.hero p{margin:0;color:var(--muted);max-width:780px;line-height:1.5}
.hero-right{width:220px;text-align:center}

/* Grid */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:18px;margin-top:22px}
.card{border-radius:14px;padding:18px;background:var(--glass);cursor:pointer;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.04);transition:transform .32s ease, box-shadow .32s ease;display:flex;gap:12px;align-items:center}
.card:hover{transform:translateY(-8px);box-shadow:0 20px 50px rgba(107,33,255,0.08)}
.card .icon{width:86px;height:86px;border-radius:999px;flex:0 0 86px;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:inset 0 -6px 30px rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.04)}
.card .meta{flex:1}
.card h3{margin:0 0 6px 0;font-size:18px}
.card p{margin:0;color:var(--muted);font-size:13px;line-height:1.35}

/* planet visuals (gradients) */
.planet-sun{background:radial-gradient(circle at 35% 35%, #fff6c0, #ffd36b 20%, #ffae00 50%, #ff6600 80%);}
.planet-mercury{background:linear-gradient(180deg,#6e6e6e,#4b4b4b)}
.planet-venus{background:linear-gradient(180deg,#ead4a7,#c89a5b)}
.planet-earth{background:linear-gradient(180deg,#2fa0ff,#06537f);border:2px solid rgba(255,255,255,0.02)}
.planet-moon{background:linear-gradient(180deg,#cfcfcf,#9f9f9f)}
.planet-mars{background:linear-gradient(180deg,#ff7a40,#b33a20)}
.planet-jupiter{background:linear-gradient(180deg,#f5d6b3,#d19b63)}
.planet-saturn{background:linear-gradient(180deg,#f6e3ad,#d0ae6d)}
.planet-uranus{background:linear-gradient(180deg,#bfe9ff,#7fd2e6)}
.planet-neptune{background:linear-gradient(180deg,#6ea7ff,#234b9a)}
.planet-pluto{background:linear-gradient(180deg,#c8a9d0,#8f6c9a)}
.planet-asteroid{background:linear-gradient(180deg,#7d7d7d,#4e4e4e)}
.planet-kuiper{background:linear-gradient(180deg,#94bfff,#5f9ad1)}
.obj-star{background: radial-gradient(circle at 35% 35%, #fff, #ffd); box-shadow:0 0 18px rgba(255,255,200,0.08)}
.obj-nebula{background: radial-gradient(circle at 20% 20%, #ff7ab3, #7a00ff); box-shadow:0 0 30px rgba(122,0,255,0.08)}
.obj-galaxy{background: linear-gradient(135deg,#9d00ff,#ff6fb3)}

/* Modal */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.78);z-index:9999;align-items:center;justify-content:center;padding:20px}
.modal.show{display:flex}
.modal-inner{width:min(1100px,98%);max-height:90vh;overflow:auto;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.04)}
.modal-grid{display:grid;grid-template-columns:360px 1fr;gap:18px;align-items:start}
.modal-preview{height:320px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.25)}
.modal-preview img{width:100%;height:100%;object-fit:cover;display:block}
.modal-preview .planet-large{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;color:#fff}
.modal-content h2{margin:0 0 10px 0}
.facts{margin-top:8px;border-radius:10px;padding:12px;background:rgba(0,0,0,0.3);font-size:13px}
.facts table{width:100%;border-collapse:collapse}
.facts td{padding:6px 8px;color:var(--muted);font-size:13px}
.long-desc{margin-top:12px;color:#e6eefc;line-height:1.6}
.funlist{margin-top:12px}
.btn-row{display:flex;gap:8px;margin-top:12px}
.btn-ghost{padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);cursor:pointer}
.btn-primary{padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;color:#fff;cursor:pointer}

/* Nav in modal */
.modal-nav{display:flex;gap:8px;justify-content:flex-end;margin-bottom:8px}
.small-muted{font-size:12px;color:var(--muted)}

/* footer */
.footer{margin-top:28px;padding:18px;text-align:center;color:var(--muted);font-size:13px}

/* responsive */
@media (max-width:900px){
  .modal-grid{grid-template-columns:1fr;align-items:center}
  .modal-preview{height:240px}
  .hero{flex-direction:column;align-items:flex-start}
  .search-box input{width:120px}
}
</style>
</head>
<body>

<!-- background canvases -->
<canvas id="bgCanvas"></canvas>
<div class="bg-gradient"></div>

<div class="container">
  <header class="header">
    <div class="brand">
      <div class="logo">IEA</div>
      <div>
        <div class="title">IEA Astronomi — Ensiklopedia Interaktif</div>
        <div class="subtitle">Peta interaktif Tata Surya, Bintang & Nebula — klik untuk info detail</div>
      </div>
    </div>

    <div class="search-wrap">
      <div class="search-box">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="searchInput" placeholder="Cari: Bumi, Jupiter, Nebula..." />
      </div>
      <div class="filter-badges">
        <div class="badge active" data-filter="all">Semua</div>
        <div class="badge" data-filter="planet">Planet</div>
        <div class="badge" data-filter="system">Tata Surya</div>
        <div class="badge" data-filter="star">Bintang</div>
        <div class="badge" data-filter="nebula">Nebula</div>
        <div class="badge" data-filter="galaxy">Galaksi</div>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="hero-left">
      <h1>Selamat Datang, Penjelajah Kosmos</h1>
      <p>Ini adalah versi lite ensiklopedia astronomi — lengkap dengan informasi planet, bintang, nebula, dan galaksi. Klik objek apa saja untuk membuka informasi detailnya. Nanti kita bisa tambahkan tampilan 3D interaktif.</p>
    </div>
    <div class="hero-right">
      <div style="font-size:12px;color:var(--muted);margin-bottom:8px">Mulai eksplorasi</div>
      <button class="btn-primary" onclick="document.querySelector('#explore').scrollIntoView({behavior:'smooth'})">Eksplorasi Sekarang</button>
    </div>
  </section>

  <section id="explore" class="section">
    <h2 class="title">Objek Astronomi</h2>
    <p class="description">Klik satu objek untuk melihat informasi lengkap. Ada data ringkas, deskripsi panjang, fakta menarik, dan link baca lebih lanjut.</p>

    <div id="grid" class="grid">
      <!-- Cards: each card has data-id and data-type -->
      <div class="card" data-id="sun" data-type="system" title="Matahari">
        <div class="icon planet-sun">Sun</div>
        <div class="meta">
          <h3>Matahari (Sun)</h3>
          <p>Bintang pusat Tata Surya — sumber energi dan cahaya.</p>
        </div>
      </div>

      <div class="card" data-id="mercury" data-type="planet" title="Merkurius">
        <div class="icon planet-mercury">Me</div>
        <div class="meta">
          <h3>Merkurius</h3>
          <p>Planet paling dekat ke Matahari — permukaan berbatu dan suhu ekstrem.</p>
        </div>
      </div>

      <div class="card" data-id="venus" data-type="planet" title="Venus">
        <div class="icon planet-venus">Ve</div>
        <div class="meta">
          <h3>Venus</h3>
          <p>Atmosfer tebal & efek rumah kaca ekstrim — permukaan super panas.</p>
        </div>
      </div>

      <div class="card" data-id="earth" data-type="planet" title="Bumi">
        <div class="icon planet-earth">Ea</div>
        <div class="meta">
          <h3>Bumi</h3>
          <p>Planet tempat hidup kita — air cair, atmosfer seimbang, satelit: Bulan.</p>
        </div>
      </div>

      <div class="card" data-id="moon" data-type="system" title="Bulan">
        <div class="icon planet-moon">Mo</div>
        <div class="meta">
          <h3>Bulan</h3>
          <p>Satelit alami Bumi — mempengaruhi pasang surut dan eksplorasi manusia.</p>
        </div>
      </div>

      <div class="card" data-id="mars" data-type="planet" title="Mars">
        <div class="icon planet-mars">Ma</div>
        <div class="meta">
          <h3>Mars</h3>
          <p>Planet merah — bukti bekas air, gunung raksasa, dan lembah besar.</p>
        </div>
      </div>

      <div class="card" data-id="jupiter" data-type="planet" title="Jupiter">
        <div class="icon planet-jupiter">Ju</div>
        <div class="meta">
          <h3>Jupiter</h3>
          <p>Raksasa gas terbesar — badai besar (Great Red Spot) & banyak satelit.</p>
        </div>
      </div>

      <div class="card" data-id="saturn" data-type="planet" title="Saturnus">
        <div class="icon planet-saturn">Sa</div>
        <div class="meta">
          <h3>Saturnus</h3>
          <p>Terkenal dengan cincin spektakuler — banyak satelit termasuk Titan.</p>
        </div>
      </div>

      <div class="card" data-id="uranus" data-type="planet" title="Uranus">
        <div class="icon planet-uranus">Ur</div>
        <div class="meta">
          <h3>Uranus</h3>
          <p>Planet es dengan sumbu miring ekstrem — musim panjang & unik.</p>
        </div>
      </div>

      <div class="card" data-id="neptune" data-type="planet" title="Neptunus">
        <div class="icon planet-neptune">Ne</div>
        <div class="meta">
          <h3>Neptunus</h3>
          <p>Planet biru jauh — angin tercepat di Tata Surya.</p>
        </div>
      </div>

      <div class="card" data-id="pluto" data-type="planet" title="Pluto">
        <div class="icon planet-pluto">Pl</div>
        <div class="meta">
          <h3>Pluto</h3>
          <p>Planet kerdil di Kuiper Belt — permukaan beku & kompleks.</p>
        </div>
      </div>

      <div class="card" data-id="asteroid-belt" data-type="system" title="Sabuk Asteroid">
        <div class="icon planet-asteroid">AB</div>
        <div class="meta">
          <h3>Sabuk Asteroid</h3>
          <p>Zona antara Mars & Jupiter yang berisi banyak benda kecil berbatu.</p>
        </div>
      </div>

      <div class="card" data-id="kuiper-belt" data-type="system" title="Kuiper Belt">
        <div class="icon planet-kuiper">KB</div>
        <div class="meta">
          <h3>Kuiper Belt</h3>
          <p>Wilayah es di luar Neptunus — rumah bagi Pluto & objek trans-Neptunian.</p>
        </div>
      </div>

      <!-- Stars -->
      <div class="card" data-id="sirius" data-type="star" title="Sirius">
        <div class="icon obj-star">Si</div>
        <div class="meta">
          <h3>Sirius</h3>
          <p>Bintang cerah di rasi Canis Major.</p>
        </div>
      </div>

      <div class="card" data-id="betelgeuse" data-type="star" title="Betelgeuse">
        <div class="icon obj-star">Be</div>
        <div class="meta">
          <h3>Betelgeuse</h3>
          <p>Supergiant merah di rasi Orion — kandidat supernova.</p>
        </div>
      </div>

      <div class="card" data-id="polaris" data-type="star" title="Polaris">
        <div class="icon obj-star">Po</div>
        <div class="meta">
          <h3>Polaris</h3>
          <p>Bintang kutub utara — penting untuk navigasi.</p>
        </div>
      </div>

      <!-- Nebula & Galaxy -->
      <div class="card" data-id="orion-nebula" data-type="nebula" title="Nebula Orion (M42)">
        <div class="icon obj-nebula">Or</div>
        <div class="meta">
          <h3>Nebula Orion (M42)</h3>
          <p>Region pembentukan bintang yang terang di rasi Orion.</p>
        </div>
      </div>

      <div class="card" data-id="crab-nebula" data-type="nebula" title="Crab Nebula (M1)">
        <div class="icon obj-nebula">Cr</div>
        <div class="meta">
          <h3>Crab Nebula (M1)</h3>
          <p>Sisa supernova yang kaya data ilmiah.</p>
        </div>
      </div>

      <div class="card" data-id="andromeda" data-type="galaxy" title="Andromeda (M31)">
        <div class="icon obj-galaxy">An</div>
        <div class="meta">
          <h3>Andromeda (M31)</h3>
          <p>Galaksi spiral besar terdekat ke Bima Sakti.</p>
        </div>
      </div>

    </div>
  </section>

  <div class="footer">IEA Astronomi • Konten edukatif dan interaktif. Sumber & gambar diambil dari Wikipedia / NASA bila tersedia.</div>
</div>

<!-- Modal (single modal untuk semua objek) -->
<div id="modal" class="modal" role="dialog" aria-hidden="true">
  <div class="modal-inner" role="document">
    <div class="modal-nav">
      <div class="small-muted" id="modal-type">Kategori</div>
      <div style="flex:1"></div>
      <div>
        <button class="btn-ghost" id="prevBtn" title="Sebelumnya">← Sebelumnya</button>
        <button class="btn-ghost" id="nextBtn" title="Selanjutnya">Selanjutnya →</button>
        <button class="btn-ghost" id="closeBtn" title="Tutup (Esc)">✕ Tutup</button>
      </div>
    </div>

    <div class="modal-grid">
      <div>
        <div class="modal-preview">
          <div id="modalPreview" class="planet-large">Preview</div>
        </div>

        <div class="facts" id="factsBlock">
          <table><tbody id="factsTable"></tbody></table>
        </div>

      </div>
      <div class="modal-content">
        <h2 id="modalTitle">Judul</h2>
        <div id="modalSubtitle" class="small-muted">Subkategori</div>
        <div class="long-desc" id="modalDesc"></div>

        <div class="funlist" id="modalFun"></div>

        <div class="btn-row">
          <button id="view3D" class="btn-primary">View 3D (Coming Soon)</button>
          <a id="learnMore" class="btn-ghost" target="_blank" rel="noopener">Baca Lebih Lanjut</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
/* =========================
   Background starfield
   ========================= */
const bgCanvas = document.getElementById('bgCanvas');
const ctx = bgCanvas.getContext('2d');
function resizeBG(){ bgCanvas.width = innerWidth; bgCanvas.height = innerHeight; initStars(); }
window.addEventListener('resize', resizeBG);
let starsBG = [];
function initStars(){
  starsBG = [];
  const density = Math.round((bgCanvas.width*bgCanvas.height)/70000);
  for(let i=0;i<density;i++){
    starsBG.push({x:Math.random()*bgCanvas.width,y:Math.random()*bgCanvas.height,r:Math.random()*1.2+0.2,alpha: Math.random()*0.8+0.2, s: Math.random()*0.02+0.01});
  }
}
function drawBG(){
  ctx.clearRect(0,0,bgCanvas.width,bgCanvas.height);
  for(const s of starsBG){
    ctx.globalAlpha = s.alpha;
    ctx.fillStyle = '#fff';
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
    s.y += s.s;
    if(s.y>bgCanvas.height){ s.y=0; s.x=Math.random()*bgCanvas.width; }
  }
  requestAnimationFrame(drawBG);
}
resizeBG();
drawBG();

/* =========================
   DATA: encyclopedia entries (detailed + wikipedia keys)
   ========================= */
const DATA = {
  "sun": {
    title:"Matahari (Sun)",
    type:"Bintang / Tata Surya",
    wikipedia:"Sun",
    previewClass:"planet-sun",
    facts:{
      "Jenis":"Bintang tipe G (Yellow Dwarf)",
      "Jarak ke Bumi":"~149.6 juta km (1 AU)",
      "Radius":"~696.340 km",
      "Massa":"~1.989 × 10^30 kg",
      "Usia":"~4.6 miliar tahun",
      "Suhu permukaan":"~5.500 °C",
      "Komposisi":"Hidrogen (~74%), Helium (~24%)"
    },
    desc:`Matahari adalah bintang pusat Tata Surya, sumber cahaya dan energi. Energi dihasilkan melalui fusi nuklir di inti, mengubah hidrogen menjadi helium. Matahari mempengaruhi cuaca antariksa, medan magnet, dan evolusi planet-planet di sekitarnya.`,
    fun:[ "Matahari memegang 99.86% massa Tata Surya.", "Cahaya yang kita lihat butuh ~8 menit untuk sampai dari permukaan Matahari ke Bumi." ],
    link:"https://en.wikipedia.org/wiki/Sun"
  },

  /* Planets (detailed fields) */
  "mercury": {
    title:"Merkurius",
    type:"Planet",
    wikipedia:"Mercury_(planet)",
    previewClass:"planet-mercury",
    facts:{
      "Jarak dari Matahari":"~57.9 juta km",
      "Radius":"~2,440 km",
      "Massa":"~3.30 × 10^23 kg",
      "Hari (rotasi)":"~58.6 hari Bumi",
      "Tahun (revolusi)":"~88 hari Bumi",
      "Suhu permukaan":"-173°C hingga 427°C",
      "Gravitasi permukaan":"~0.38 g"
    },
    desc:`Merkurius adalah planet paling dekat dengan Matahari. Permukaannya penuh kawah dan didominasi batuan karena hampir tidak memiliki atmosfer tebal untuk menahan suhu. Magnetosfer lemah namun terdeteksi.`,
    fun:[ "Merkurius memiliki medan magnet meski kecil.", "Waktu siang di Merkurius panjang karena rotasinya lambat." ],
    link:"https://en.wikipedia.org/wiki/Mercury_(planet)"
  },

  "venus": {
    title:"Venus",
    type:"Planet",
    wikipedia:"Venus",
    previewClass:"planet-venus",
    facts:{
      "Jarak dari Matahari":"~108.2 juta km",
      "Radius":"~6,052 km",
      "Massa":"~4.87 × 10^24 kg",
      "Hari (rotasi)":"~243 hari Bumi (retrograde)",
      "Tahun (revolusi)":"~225 hari Bumi",
      "Suhu permukaan":"~465 °C",
      "Tekanan permukaan":"~92 kali Bumi"
    },
    desc:`Venus memiliki atmosfer tebal, komposisi CO₂ dominan, dan efek rumah kaca ekstrem menghasilkan suhu permukaan yang tinggi. Rotasinya retrograde (berlawanan arah planet lain) dan sangat lambat.`,
    fun:[ "Tekanan permukaan Venus ~92 kali tekanan di Bumi.", "Venus memantulkan banyak cahaya sehingga sangat terang di langit malam." ],
    link:"https://en.wikipedia.org/wiki/Venus"
  },

  "earth": {
    title:"Bumi",
    type:"Planet",
    wikipedia:"Earth",
    previewClass:"planet-earth",
    facts:{
      "Jarak dari Matahari":"~149.6 juta km (1 AU)",
      "Radius":"~6,371 km",
      "Massa":"~5.97 × 10^24 kg",
      "Hari (rotasi)":"~24 jam",
      "Tahun (revolusi)":"~365.25 hari",
      "Komposisi":"Air, kerak batuan, atmosfer N₂-O₂",
      "Jumlah satelit":"1 (Bulan)"
    },
    desc:`Bumi mendukung kehidupan berkat kombinasi air cair, atmosfer pelindung, dan medan magnet. Siklus air, tektonik lempeng, dan biosfer berinteraksi kompleks membentuk lingkungan tempat hidup makhluk beragam.`,
    fun:[ "70% permukaan Bumi tertutup air.", "Bulan mempengaruhi stabilitas rotasi Bumi dan pasang surut." ],
    link:"https://en.wikipedia.org/wiki/Earth"
  },

  "moon": {
    title:"Bulan (Moon)",
    type:"Satelit Bumi",
    wikipedia:"Moon",
    previewClass:"planet-moon",
    facts:{
      "Jarak ke Bumi":"~384,400 km",
      "Radius":"~1,737 km",
      "Massa":"~7.35 × 10^22 kg",
      "Rotasi":"Synchronous (muka sama ke Bumi)",
      "Usia":"~4.5 miliar tahun"
    },
    desc:`Bulan terbentuk kemungkinan besar akibat tabrakan besar antara Bumi dan objek seukuran Mars (hipotesis Theia). Permukaan penuh kawah; manusia mendarat di sana pada misi Apollo (1969–1972).`,
    fun:[ "Bulan tidak memiliki atmosfer yang signifikan.", "Gerhana Bulan terjadi saat Bumi menghalangi cahaya Matahari ke Bulan." ],
    link:"https://en.wikipedia.org/wiki/Moon"
  },

  "mars": {
    title:"Mars",
    type:"Planet",
    wikipedia:"Mars",
    previewClass:"planet-mars",
    facts:{
      "Jarak dari Matahari":"~227.9 juta km",
      "Radius":"~3,390 km",
      "Massa":"~6.42 × 10^23 kg",
      "Hari (rotasi)":"~24.6 jam",
      "Tahun (revolusi)":"~687 hari Bumi",
      "Suhu rata-rata":"~-63 °C",
      "Jumlah satelit":"2 (Phobos & Deimos)"
    },
    desc:`Mars memiliki banyak fitur geologi menarik (lembah besar, gunung vulkanik Olympus Mons). Ada bukti adanya air dalam bentuk es dan bekas aliran permukaan yang menunjukkan kondisi lebih basah di masa lalu.`,
    fun:[ "Olympus Mons adalah gunung terbesar di Tata Surya.", "Eksplorasi robotik (rovers) terus mencari bukti kehidupan mikroba purba." ],
    link:"https://en.wikipedia.org/wiki/Mars"
  },

  "jupiter": {
    title:"Jupiter",
    type:"Raksasa Gas",
    wikipedia:"Jupiter",
    previewClass:"planet-jupiter",
    facts:{
      "Jarak dari Matahari":"~778.5 juta km",
      "Radius":"~69,911 km",
      "Massa":"~1.898 × 10^27 kg",
      "Hari (rotasi)":"~9.9 jam",
      "Tahun (revolusi)":"~11.86 tahun Bumi",
      "Jumlah satelit":"~80+",
      "Ciri khas":"Great Red Spot (badai raksasa)"
    },
    desc:`Jupiter adalah planet terbesar, terutama hidrogen & helium. Gravitasi Jupiter mempengaruhi banyak komet/asteroid dan memiliki sistem satelit besar, beberapa memiliki kondisi penting (Europa diliputi es dengan kemungkinan lautan cair).`,
    fun:[ "Ganymede lebih besar dari Merkurius.", "Europa mungkin menyimpan lautan di bawah lapisan es." ],
    link:"https://en.wikipedia.org/wiki/Jupiter"
  },

  "saturn": {
    title:"Saturnus",
    type:"Raksasa Gas",
    wikipedia:"Saturn",
    previewClass:"planet-saturn",
    facts:{
      "Jarak dari Matahari":"~1.429 miliar km",
      "Radius":"~58,232 km",
      "Massa":"~5.683 × 10^26 kg",
      "Hari (rotasi)":"~10.7 jam",
      "Tahun (revolusi)":"~29.46 tahun Bumi",
      "Jumlah satelit":"~80+",
      "Ciri khas":"Sistem cincin es & debu"
    },
    desc:`Saturnus terkenal karena cincin yang indah. Titan, satelit terbesar, memiliki atmosfer tebal dan sungai hidrokarbon — membuatnya menarik untuk studi prebiotic chemistry.`,
    fun:[ "Titan memiliki atmosfer yang kaya nitrogen dan danau hidrokarbon.", "Cincin Saturnus tersusun dari partikel es dan batu kecil." ],
    link:"https://en.wikipedia.org/wiki/Saturn"
  },

  "uranus": {
    title:"Uranus",
    type:"Planet Es",
    wikipedia:"Uranus",
    previewClass:"planet-uranus",
    facts:{
      "Jarak dari Matahari":"~2.871 miliar km",
      "Radius":"~25,362 km",
      "Massa":"~8.681 × 10^25 kg",
      "Hari (rotasi)":"~17.2 jam",
      "Tahun (revolusi)":"~84 tahun Bumi",
      "Ciri khas":"Aksis sangat miring (~98°)"
    },
    desc:`Uranus memiliki sumbu rotasi hampir terbaring, menyebabkan musim ekstrem bertahan puluhan tahun. Komposisi es & atmosfer menghasilkan warna kebiruan.`,
    fun:[ "Sumbu ekstrem membuat kutub mengalami malam/dengan durasi panjang.", "Uranus memiliki cincin tipis." ],
    link:"https://en.wikipedia.org/wiki/Uranus"
  },

  "neptune": {
    title:"Neptunus",
    type:"Planet Es",
    wikipedia:"Neptune",
    previewClass:"planet-neptune",
    facts:{
      "Jarak dari Matahari":"~4.495 miliar km",
      "Radius":"~24,622 km",
      "Massa":"~1.024 × 10^26 kg",
      "Hari (rotasi)":"~16.1 jam",
      "Tahun (revolusi)":"~164.8 tahun Bumi",
      "Ciri khas":"Angin sangat kencang"
    },
    desc:`Neptunus adalah planet es dengan aktivitas atmosfer dan badai besar. Triton, satelitnya, menunjukkan aktivitas geyser dan mungkin ditangkap dari Kuiper Belt.`,
    fun:[ "Neptunus menampilkan badai dan bintik gelap serupa Jupiter.", "Angin terkuat di Tata Surya tercatat di Neptunus." ],
    link:"https://en.wikipedia.org/wiki/Neptune"
  },

  "pluto": {
    title:"Pluto",
    type:"Planet Kerdil",
    wikipedia:"Pluto",
    previewClass:"planet-pluto",
    facts:{
      "Jarak dari Matahari":"~5.9 miliar km",
      "Radius":"~1,188 km",
      "Massa":"~1.309 × 10^22 kg",
      "Orbit":"Eksentrik & miring",
      "Jumlah satelit":"5 (termasuk Charon)"
    },
    desc:`Pluto berada di Kuiper Belt dan dikategorikan sebagai planet kerdil. Misi New Horizons pada 2015 memberikan gambaran close-up yang mengubah pemahaman kita tentang permukaan dan sejarahnya.`,
    fun:[ "Charon relatif besar dibanding Pluto — mereka membentuk sistem biner yang unik.", "New Horizons memetakan permukaan Pluto secara detail." ],
    link:"https://en.wikipedia.org/wiki/Pluto"
  },

  "asteroid-belt": {
    title:"Sabuk Asteroid",
    type:"Tata Surya (Region)",
    wikipedia:"Asteroid_belt",
    previewClass:"planet-asteroid",
    facts:{
      "Lokasi":"Antara Mars & Jupiter",
      "Komposisi":"Batu & logam",
      "Objek terkenal":"Ceres (planet kerdil)"
    },
    desc:`Sabuk Asteroid berisi banyak benda kecil sebagai sisa pembentukan Tata Surya. Interaksi gravitasi Jupiter mencegah pembentukan planet di area ini.`,
    fun:[ "Ceres adalah objek terbesar di sabuk dan diklasifikasikan sebagai planet kerdil." ],
    link:"https://en.wikipedia.org/wiki/Asteroid_belt"
  },

  "kuiper-belt": {
    title:"Kuiper Belt",
    type:"Tata Surya (Region)",
    wikipedia:"Kuiper_belt",
    previewClass:"planet-kuiper",
    facts:{
      "Lokasi":"Luar Neptunus",
      "Komposisi":"Es & objek trans-Neptunian",
      "Objek terkenal":"Pluto, Eris, Makemake"
    },
    desc:`Kuiper Belt adalah area benda beku dan sumber bagi beberapa komet periode pendek. Mengandung banyak objek kecil dan kerdil yang penting untuk sejarah pembentukan Tata Surya.`,
    fun:[ "Beberapa komet periode pendek berasal dari Kuiper Belt." ],
    link:"https://en.wikipedia.org/wiki/Kuiper_belt"
  },

  /* Stars */
  "sirius": {
    title:"Sirius",
    type:"Bintang",
    wikipedia:"Sirius",
    previewClass:"obj-star",
    facts:{"Jarak ke Bumi":"~8.6 tahun cahaya","Jenis":"A1V","Keterangan":"Sistem bintang ganda"},
    desc:"Sirius adalah bintang terang di rasi Canis Major, terdiri dari Sirius A (bintang utama) dan Sirius B (katai putih).",
    fun:["Sirius terlihat sangat terang karena kecerahan absolut dan kedekatannya ke Bumi."],
    link:"https://en.wikipedia.org/wiki/Sirius"
  },

  "betelgeuse": {
    title:"Betelgeuse",
    type:"Supergiant Merah",
    wikipedia:"Betelgeuse",
    previewClass:"obj-star",
    facts:{"Jarak ke Bumi":"~642 tahun cahaya","Jenis":"Red supergiant","Ukuran":"Sangat besar"},
    desc:"Betelgeuse adalah supergiant merah yang sangat besar; peneliti terus memantau kemungkinannya menjadi supernova dalam skala waktu astronomi.",
    fun:["Jika diletakkan di pusat Tata Surya, Betelgeuse bisa menelan orbit Jupiter."],
    link:"https://en.wikipedia.org/wiki/Betelgeuse"
  },

  "polaris": {
    title:"Polaris",
    type:"Bintang (North Star)",
    wikipedia:"Polaris",
    previewClass:"obj-star",
    facts:{"Jarak ke Bumi":"~433 tahun cahaya","Peran":"Bintang penunjuk utara"},
    desc:"Polaris berada dekat titik kutub utara langit dan telah lama digunakan untuk navigasi.",
    fun:["Posisi Polaris berubah perlahan akibat presesi sumbu Bumi."],
    link:"https://en.wikipedia.org/wiki/Polaris"
  },

  /* Nebula */
  "orion-nebula": {
    title:"Nebula Orion (M42)",
    type:"Nebula",
    wikipedia:"Orion_Nebula",
    previewClass:"obj-nebula",
    facts:{"Jarak ke Bumi":"~1,344 tahun cahaya","Jenis":"Nebula emisi","Keterangan":"Region pembentukan bintang"},
    desc:"Nebula Orion adalah awan gas & debu yang menjadi tempat kelahiran bintang; objek penting untuk studi pembentukan sistem planet.",
    fun:["Tampak sebagai bintik kabur di rasi Orion; mudah diamati dengan teleskop kecil."],
    link:"https://en.wikipedia.org/wiki/Orion_Nebula"
  },

  "crab-nebula": {
    title:"Crab Nebula (M1)",
    type:"Sisa Supernova",
    wikipedia:"Crab_Nebula",
    previewClass:"obj-nebula",
    facts:{"Jarak ke Bumi":"~6,500 tahun cahaya","Asal":"Ledakan supernova 1054 M","Ciri":"Mengandung pulsar di pusat"},
    desc:"Crab Nebula terbentuk dari ledakan supernova yang tercatat pada tahun 1054 M; pusatnya terdapat pulsar (bintang neutron).",
    fun:["Memberikan wawasan tentang ledakan supernova dan evolusi bintang masif."],
    link:"https://en.wikipedia.org/wiki/Crab_Nebula"
  },

  /* Galaxy */
  "andromeda": {
    title:"Andromeda (M31)",
    type:"Galaksi Spiral",
    wikipedia:"Andromeda_Galaxy",
    previewClass:"obj-galaxy",
    facts:{"Jarak ke Bima Sakti":"~2.54 juta tahun cahaya","Jenis":"Spiral","Ukuran":"Miliaran bintang"},
    desc:"Andromeda adalah galaksi spiral besar terdekat; akan berinteraksi (bertabrakan-gravitasi) dengan Bima Sakti dalam miliaran tahun.",
    fun:["Andromeda dapat terlihat dengan mata telanjang dari lokasi gelap."],
    link:"https://en.wikipedia.org/wiki/Andromeda_Galaxy"
  }
};

/* =========================
   UTILITIES & UI BINDING
   ========================= */
const grid = document.getElementById('grid');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalSubtitle = document.getElementById('modalSubtitle');
const modalDesc = document.getElementById('modalDesc');
const modalFun = document.getElementById('modalFun');
const modalPreview = document.getElementById('modalPreview');
const factsTable = document.getElementById('factsTable');
const modalType = document.getElementById('modal-type');
const view3D = document.getElementById('view3D');
const learnMore = document.getElementById('learnMore');

let ids = Array.from(document.querySelectorAll('#grid .card')).map(c=>c.dataset.id);
let currentIndex = 0;

/* Helper: fetch Wikipedia summary to get an image (thumbnail) */
async function fetchWikiThumbnail(wikiTitle){
  if(!wikiTitle) return null;
  const endpoint = 'https://en.wikipedia.org/api/rest_v1/page/summary/'+encodeURIComponent(wikiTitle);
  try{
    const res = await fetch(endpoint);
    if(!res.ok) return null;
    const json = await res.json();
    // json.thumbnail.source sometimes present
    if(json && json.thumbnail && json.thumbnail.source) return {src: json.thumbnail.source,desc: json.description || json.extract};
    // sometimes originalimage exists
    if(json && json.originalimage && json.originalimage.source) return {src: json.originalimage.source,desc: json.description || json.extract};
    return null;
  }catch(e){
    console.warn('Wiki fetch error', e);
    return null;
  }
}

/* Open object modal with data & attempt to load image */
async function openObject(id){
  const data = DATA[id];
  if(!data) return;
  modalTitle.textContent = data.title || id;
  modalSubtitle.textContent = data.type || '';
  modalDesc.innerHTML = (data.desc || '');
  // set placeholder preview (css)
  modalPreview.className = 'planet-large '+(data.previewClass||'');
  modalPreview.innerHTML = data.title.split(' ')[0];

  // facts
  factsTable.innerHTML = '';
  if(data.facts){
    for(const k of Object.keys(data.facts)){
      const tr = document.createElement('tr');
      tr.innerHTML = `<td style="width:46%;color:var(--muted)">${k}</td><td style="text-align:right">${data.facts[k]}</td>`;
      factsTable.appendChild(tr);
    }
  }

  // fun facts
  modalFun.innerHTML = '<strong>Fakta Menarik:</strong><ul style="margin:8px 0 0 18px" id="funList"></ul>';
  const ul = document.getElementById('funList');
  if(data.fun && data.fun.length){ for(const f of data.fun){ const li=document.createElement('li'); li.style.marginBottom='6px'; li.textContent=f; ul.appendChild(li);} }
  else ul.innerHTML = '<li>Tidak ada fakta tambahan.</li>';

  // set learn more link
  learnMore.href = data.link || '#';
  learnMore.textContent = "Buka sumber (Wikipedia/NASA)";

  // show modal early (so user sees UI), then fetch image
  modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
  currentIndex = ids.indexOf(id);
  modalType.textContent = data.type || '';

  // set view3D placeholder action
  view3D.onclick = ()=>{ alert('Tombol View 3D akan memuat model interaktif — nanti diintegrasikan dengan Three.js.'); };

  // attempt to fetch Wikipedia thumbnail
  modalPreview.innerHTML = '<div style="color:var(--muted)">Memuat gambar…</div>';
  modalPreview.style.background = 'rgba(0,0,0,0.12)';
  const wikiTitle = data.wikipedia || data.title;
  const thumb = await fetchWikiThumbnail(wikiTitle);
  if(thumb && thumb.src){
    modalPreview.innerHTML = `<img src="${thumb.src}" alt="${data.title}">`;
  } else {
    // fallback to CSS preview circle
    modalPreview.className = 'planet-large '+(data.previewClass||'');
    modalPreview.innerHTML = data.title.split(' ')[0];
  }
}

/* click listeners on cards */
document.querySelectorAll('#grid .card').forEach(card=>{
  card.addEventListener('click', ()=> openObject(card.dataset.id));
});

/* modal close */
document.getElementById('closeBtn').addEventListener('click', ()=> closeModal());
modal.addEventListener('click',(e)=>{ if(e.target===modal) closeModal(); });
function closeModal(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); }

/* prev / next */
document.getElementById('prevBtn').addEventListener('click', ()=>{
  currentIndex = (currentIndex-1+ids.length)%ids.length; openObject(ids[currentIndex]);
});
document.getElementById('nextBtn').addEventListener('click', ()=>{
  currentIndex = (currentIndex+1)%ids.length; openObject(ids[currentIndex]);
});

/* keyboard nav */
document.addEventListener('keydown',(e)=>{
  if(modal.classList.contains('show')){
    if(e.key==='Escape') closeModal();
    if(e.key==='ArrowLeft'){ currentIndex=(currentIndex-1+ids.length)%ids.length; openObject(ids[currentIndex]); }
    if(e.key==='ArrowRight'){ currentIndex=(currentIndex+1)%ids.length; openObject(ids[currentIndex]); }
  }
});

/* SEARCH & FILTER */
const searchInput = document.getElementById('searchInput');
const badges = document.querySelectorAll('.badge');

searchInput.addEventListener('input', filterGrid);
badges.forEach(b=>b.addEventListener('click', ()=>{
  badges.forEach(x=>x.classList.remove('active'));
  b.classList.add('active');
  filterGrid();
}));

function filterGrid(){
  const q = searchInput.value.trim().toLowerCase();
  const activeFilter = document.querySelector('.badge.active')?.dataset.filter || 'all';
  document.querySelectorAll('#grid .card').forEach(card=>{
    const id = card.dataset.id;
    const data = DATA[id];
    let matchesFilter = (activeFilter==='all') || (data && data.type && data.type.toLowerCase().includes(activeFilter));
    let matchesQuery = (!q) || ( (data.title||'').toLowerCase().includes(q) || (data.desc||'').toLowerCase().includes(q) );
    card.style.display = (matchesFilter && matchesQuery) ? 'flex' : 'none';
  });
}
filterGrid();

</script>
</body>
</html>

